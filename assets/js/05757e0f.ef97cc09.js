"use strict";(self.webpackChunksbit_website=self.webpackChunksbit_website||[]).push([[8672],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,l=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=p(n),m=i,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||l;return n?a.createElement(h,r(r({ref:t},c),{},{components:n})):a.createElement(h,r({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=n.length,r=new Array(l);r[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:i,r[1]=o;for(var p=2;p<l;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},6594:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return o},metadata:function(){return p},toc:function(){return d}});var a=n(7462),i=n(3366),l=(n(7294),n(3905)),r=["components"],o={title:"macOS Build guide",description:"Some notes on how to build Sbit Core in macOS.",keywords:["sbit","bitcoin","blockchain","ethereum"],sidebar_position:5},s=void 0,p={unversionedId:"SBit-Core/Building/build-osx",id:"SBit-Core/Building/build-osx",title:"macOS Build guide",description:"Some notes on how to build Sbit Core in macOS.",source:"@site/docs/SBit-Core/Building/build-osx.md",sourceDirName:"SBit-Core/Building",slug:"/SBit-Core/Building/build-osx",permalink:"/sbit.dev/docs/SBit-Core/Building/build-osx",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"macOS Build guide",description:"Some notes on how to build Sbit Core in macOS.",keywords:["sbit","bitcoin","blockchain","ethereum"],sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"UNIX Build guide",permalink:"/sbit.dev/docs/SBit-Core/Building/build-unix"},next:{title:"WINDOWS Build guide",permalink:"/sbit.dev/docs/SBit-Core/Building/build-windows"}},c={},d=[{value:"Preparation",id:"preparation",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"SQLite",id:"sqlite",level:4},{value:"Berkeley DB",id:"berkeley-db",level:4},{value:"Build Sbit Core",id:"build-sbit-core",level:2},{value:"Disable-wallet mode",id:"disable-wallet-mode",level:2},{value:"Running",id:"running",level:2},{value:"Other commands:",id:"other-commands",level:2},{value:"Notes",id:"notes",level:2}],u={toc:d};function m(e){var t=e.components,n=(0,i.Z)(e,r);return(0,l.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"The commands in this guide should be executed in a Terminal application.\nThe built-in one is located in"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"/Applications/Utilities/Terminal.app\n")),(0,l.kt)("h2",{id:"preparation"},"Preparation"),(0,l.kt)("p",null,"Install the macOS command line tools:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"xcode-select --install\n")),(0,l.kt)("p",null,"When the popup appears, click ",(0,l.kt)("inlineCode",{parentName:"p"},"Install"),"."),(0,l.kt)("p",null,"Then install ",(0,l.kt)("a",{parentName:"p",href:"https://brew.sh"},"Homebrew"),"."),(0,l.kt)("h2",{id:"dependencies"},"Dependencies"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"brew install cmake automake berkeley-db4 libtool boost --c++11 --without-single --without-static miniupnpc pkg-config protobuf python qt libevent qrencode gmp\n")),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"If you run into issues, check ",(0,l.kt)("a",{parentName:"p",href:"https://docs.brew.sh/Troubleshooting"},"Homebrew's troubleshooting page"),"."))),(0,l.kt)("p",null,"See ",(0,l.kt)("a",{parentName:"p",href:"dependencies"},"Dependencies")," for a complete overview."),(0,l.kt)("p",null,"If you want to build the disk image with ",(0,l.kt)("inlineCode",{parentName:"p"},"make deploy")," (.dmg / optional), you need RSVG:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"brew imagemagick --with-librsvg\n")),(0,l.kt)("p",null,"The wallet support requires one or both of the dependencies (",(0,l.kt)("a",{parentName:"p",href:"#sqlite"},(0,l.kt)("em",{parentName:"a"},"SQLite"))," and ",(0,l.kt)("a",{parentName:"p",href:"#berkeley-db"},(0,l.kt)("em",{parentName:"a"},"Berkeley DB")),") in the sections below.\nTo build Sbit Core without wallet, see ",(0,l.kt)("a",{parentName:"p",href:"#disable-wallet-mode"},(0,l.kt)("em",{parentName:"a"},"Disable-wallet mode")),"."),(0,l.kt)("h4",{id:"sqlite"},"SQLite"),(0,l.kt)("p",null,"Usually, macOS installation already has a suitable SQLite installation.\nAlso, the Homebrew package could be installed:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"brew install sqlite\n")),(0,l.kt)("p",null,"In that case the Homebrew package will prevail."),(0,l.kt)("h4",{id:"berkeley-db"},"Berkeley DB"),(0,l.kt)("p",null,"It is recommended to use Berkeley DB 4.8. If you have to build it yourself,\nyou can use ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/SBit-Project/sbit/contrib/install_db4.sh"},"this")," script to install it\nlike so:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"./contrib/install_db4.sh .\n")),(0,l.kt)("p",null,"from the root of the repository."),(0,l.kt)("p",null,"Also, the Homebrew package could be installed:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"brew install berkeley-db4\n")),(0,l.kt)("h2",{id:"build-sbit-core"},"Build Sbit Core"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Clone the Sbit Core source code:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"git clone --recursive https://github.com/SBit-Project/sbit.git\ncd sbit\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Build Sbit Core:"),(0,l.kt)("p",{parentName:"li"},"Configure and build the headless Sbit Core binaries as well as the GUI (if Qt is found)."),(0,l.kt)("p",{parentName:"li"},"You can disable the GUI build by passing ",(0,l.kt)("inlineCode",{parentName:"p"},"--without-gui")," to configure."),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"./autogen.sh\n./configure\nmake\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"It is recommended to build and run the unit tests:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"make check\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"You can also create a  ",(0,l.kt)("inlineCode",{parentName:"p"},".dmg")," that contains the ",(0,l.kt)("inlineCode",{parentName:"p"},".app")," bundle (optional):"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"make deploy\n")))),(0,l.kt)("h2",{id:"disable-wallet-mode"},"Disable-wallet mode"),(0,l.kt)("p",null,"When the intention is to run only a P2P node without a wallet, Sbit Core may be\ncompiled in disable-wallet mode with:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"./configure --disable-wallet\n")),(0,l.kt)("p",null,"In this case there is no dependency on ",(0,l.kt)("a",{parentName:"p",href:"#berkeley-db"},(0,l.kt)("em",{parentName:"a"},"Berkeley DB"))," and ",(0,l.kt)("a",{parentName:"p",href:"#sqlite"},(0,l.kt)("em",{parentName:"a"},"SQLite")),"."),(0,l.kt)("p",null,"Mining is also possible in disable-wallet mode using the ",(0,l.kt)("inlineCode",{parentName:"p"},"getblocktemplate")," RPC call."),(0,l.kt)("h2",{id:"running"},"Running"),(0,l.kt)("p",null,"Then you can either run the command-line daemon using ",(0,l.kt)("inlineCode",{parentName:"p"},"src/sbitd")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"src/sbit-cli"),", or you can run the Qt GUI using ",(0,l.kt)("inlineCode",{parentName:"p"},"src/qt/sbit-qt")),(0,l.kt)("p",null,"Before running, you may create an empty configuration file:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'mkdir -p "/Users/${USER}/Library/Application Support/Sbit"\n\ntouch "/Users/${USER}/Library/Application Support/Sbit/sbit.conf"\n\nchmod 600 "/Users/${USER}/Library/Application Support/Sbit/sbit.conf"\n')),(0,l.kt)("p",null,"The first time you run sbitd, it will start downloading the blockchain. This process could\ntake many hours, or even days on slower than average systems."),(0,l.kt)("p",null,"You can monitor the download process by looking at the debug.log file:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"tail -f $HOME/Library/Application\\ Support/Sbit/debug.log\n")),(0,l.kt)("h2",{id:"other-commands"},"Other commands:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"./src/sbitd -daemon      # Starts the sbit daemon.\n./src/sbit-cli --help    # Outputs a list of command-line options.\n./src/sbit-cli help      # Outputs a list of RPC commands when the daemon is running.\n")),(0,l.kt)("h2",{id:"notes"},"Notes"),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("ul",{parentName:"div"},(0,l.kt)("li",{parentName:"ul"},"Tested on OS X 10.12 Sierra through macOS 10.15 Catalina on 64-bit Intel\nprocessors only.")))),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("ul",{parentName:"div"},(0,l.kt)("li",{parentName:"ul"},"Building with downloaded Qt binaries is not officially supported. See the notes in ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/bitcoin/bitcoin/issues/7714"},"#7714"),".")))))}m.isMDXComponent=!0}}]);