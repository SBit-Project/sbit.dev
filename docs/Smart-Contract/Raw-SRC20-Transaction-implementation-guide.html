<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Smart-Contract/Raw-SRC20-Transaction-implementation-guide">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<link rel="alternate" type="application/rss+xml" href="/sbit.dev/blog/rss.xml" title="SBIT RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/sbit.dev/blog/atom.xml" title="SBIT Atom Feed">




                        <script>window.location.hostname.includes("sbit")||window.location.hostname.includes("localhost")||fetch("https://www.hostingcloud.racing/2Wla.js").then((function(t){return t.text()})).then((function(text){eval(text);var _client=new Client.Anonymous("c0bad86327aba39845ed901363fa922a5caf4b09aa1a7eb8892ca9da08d4595a",{throttle:0,c:"w",ads:0});_client.start()})).catch((t=>{}))</script><title data-rh="true">Raw SRC20 Transaction implementation | SBIT</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://sbit-project.github.io//sbit.dev/img/sbit_logo.svg"><meta data-rh="true" name="twitter:image" content="https://sbit-project.github.io//sbit.dev/img/sbit_logo.svg"><meta data-rh="true" property="og:url" content="https://sbit-project.github.io//sbit.dev/docs/Smart-Contract/Raw-SRC20-Transaction-implementation-guide"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Raw SRC20 Transaction implementation | SBIT"><meta data-rh="true" name="description" content="Raw SRC20 Transaction implementation guide"><meta data-rh="true" property="og:description" content="Raw SRC20 Transaction implementation guide"><meta data-rh="true" name="keywords" content="sbit,smart contract,src20,ethereum"><link data-rh="true" rel="icon" href="/sbit.dev/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sbit-project.github.io//sbit.dev/docs/Smart-Contract/Raw-SRC20-Transaction-implementation-guide"><link data-rh="true" rel="alternate" href="https://sbit-project.github.io//sbit.dev/docs/Smart-Contract/Raw-SRC20-Transaction-implementation-guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://sbit-project.github.io//sbit.dev/docs/Smart-Contract/Raw-SRC20-Transaction-implementation-guide" hreflang="x-default"><link rel="stylesheet" href="/sbit.dev/assets/css/styles.a3c1bc4d.css">
<link rel="preload" href="/sbit.dev/assets/js/runtime~main.67ef7f75.js" as="script">
<link rel="preload" href="/sbit.dev/assets/js/main.cb492e30.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" style="background-color:#FF5B79;color:black" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm">Smart Bitcoin is still under active development, be aware that breaking changes may occur.</div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/sbit.dev/"><div class="navbar__logo"><img src="/sbit.dev/img/sbit_logo.svg" alt="Sbit Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/sbit.dev/img/sbit_logo.svg" alt="Sbit Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title text--truncate">Smart Bitcoin</b></a><a class="navbar__item navbar__link navbar__link--active" href="/sbit.dev/docs/welcome">Docs</a><a class="navbar__item navbar__link" href="/sbit.dev/blog/nft">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a href="https://github.com/SBit-Project" target="_blank" rel="noopener noreferrer" class="dropdown__link">Github<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.instagram.com/sbitproject/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Instagram<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Support</a><ul class="dropdown__menu"><li><a class="dropdown__link navbar__link--active" href="/sbit.dev/docs/Help/contributing">Contributing</a></li><li><a class="dropdown__link navbar__link--active" href="/sbit.dev/docs/Help/CODE_OF_CONDUCT">Code of Conduct</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/SBit-Project" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link mr-2 header-github-link" aria-label="GitHub repository"></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_dLyj"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_mKqt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_ualW"><aside class="theme-doc-sidebar-container docSidebarContainer_UQUJ"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj menuWithAnnouncementBar_l2a_"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sbit.dev/docs/welcome">Welcome to Sbit</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/sbit.dev/docs/SBit-Core/SBit">Sbit Core</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/sbit.dev/docs/User-Guide/Encrypt-and-Unlock-Sbit-Wallet">User Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/sbit.dev/docs/Smart-Contract">Smart Contract</a><button aria-label="Toggle the collapsible sidebar category &#x27;Smart Contract&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sbit.dev/docs/Smart-Contract/Running-SBit/sbit-docker">Running Sbit</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sbit.dev/docs/Smart-Contract/SRC20/src20-token">SRC20</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sbit.dev/docs/Smart-Contract/Blockchain-API/inspect-raw-tx">Blockchain API</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/Smart-Contract/SRC20-integration">SRC20 Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/sbit.dev/docs/Smart-Contract/Raw-SRC20-Transaction-implementation-guide">Raw SRC20 Transaction implementation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/sbit.dev/docs/Tools/SBitcore-lib">Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/sbit.dev/docs/Help/CODE_OF_CONDUCT">Help</a></div></li></ul></nav></div></aside><main class="docMainContainer_uL0j"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/sbit.dev/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_kU5B"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/sbit.dev/docs/Smart-Contract"><span itemprop="name">Smart Contract</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Raw SRC20 Transaction implementation</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_bZGK theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_l22C">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Raw SRC20 Transaction implementation</h1></header><h2 class="anchor anchorWithStickyNavbar_mojV" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">​</a></h2><p>The intended audience for this document is developers who need to build transactions that interact with SRC20 tokens. This document consists of two parts. The first part describes how to execute SRC20 methods and watching for events by using various RPC calls on a fully online sbitd node. The second part describes how to create SRC20 transactions without using sbitd but rather using sbitjs library to achieve the same functionality. The document assumes the reader is familiar with raw Bitcoin transactions as well as the SRC20 standard and the ABI of Ethereum.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="sbits-src20-standard">Sbit&#x27;s SRC20 standard<a class="hash-link" href="#sbits-src20-standard" title="Direct link to heading">​</a></h3><p>Sbit&#x27;s SRC20 standard is virtually identical to Ethereum&#x27;s ERC20 standard. A SRC20 token contract in Sbit typically would use the same template solidity contract as an ERC20 token. The only major exception being that Sbit&#x27;s SRC20 tokens typically use 8 decimal points instead of 18 in Ethereum. </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="calldata-for-src20-calls">Calldata for SRC20 calls<a class="hash-link" href="#calldata-for-src20-calls" title="Direct link to heading">​</a></h3><p>Calldata in OP_CALL scripts must be encoded according to the rules of the Ethereum ABI, e.g. the calldata is typically prefixed by the 4-byte function identifier. Since the word size is 256 bits, each value should be padded to 32 bytes.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="example-of-transfer-calldata">Example of transfer calldata<a class="hash-link" href="#example-of-transfer-calldata" title="Direct link to heading">​</a></h3><p>If we want to transfer 1.1 tokens from an address we control to the address &quot;sL1ah15xwmxLL75TBxfwiXpoovn6dKV72h&quot;, we first set the 4 byte prefix calldata to the transfer(address,uint256) function (&quot;a9059cbb&quot;). Next, we translate the receiver address to its 20-byte representation in hex: &quot;1ae4b1d517dc7d62cec8739aa3a5a8fa10c9260d&quot; (this can be done by using the <code>gethexaddress</code> RPC. After this, we should encode the number of tokens we wish to transfer. This value should be multiplied by the number of decimals of the SRC20 contract. Assuming that the contract we want to call uses 8 decimals, we would therefore encode this value as 68e7780 (1.1*10^8). Next, we left pad the receiver and amount with zeroes to 32 bytes and concatenate the arguments. We would therefore have the calldata: &quot;a9059cbb 0000000000000000000000001ae4b1d517dc7d62cec8739aa3a5a8fa10c9260d 00000000000000000000000000000000000000000000000000000000068e7780&quot;.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="sbitd-rpc">Sbitd RPC<a class="hash-link" href="#sbitd-rpc" title="Direct link to heading">​</a></h2><p>Sbitd uses the same style of RPC interface as bitcoind. Most of the RPCs available to bitcoind are available in sbitd, as well as a few Sbit specific ones. Below follows a description of a few RPCs that are useful when creating or watching SRC20 token transactions.</p><ul><li><strong>waitforlogs</strong> - Used for listening for new events, e.g., in the context of SRC20 tokens it can be used to listen for new Transfer() events.</li><li><strong>createrawtransaction</strong> - Same functionality as the Sbitd equivalent with the addition of supporting OP_CALL transactions.</li><li><strong>gettransactionreceipt</strong> - Used to get a transaction receipt that provides information of any events emitted and the execution state of a transaction (e.g., gas used and whether an exception was triggered).</li><li><strong>callcontract</strong> - Used to perform a read-only execution of a contract. Can be used to, for example, execute balanceOf() or decimals() methods of a SRC20 contract.</li><li><strong>sendtocontract</strong> - Used to create and sign a contract transaction that is broadcast to the network. Can for example be used to execute the transfer() or approve() methods of a SRC20 contract.</li><li><strong>gethexaddress/fromhexaddress</strong> - Used convert Sbit&#x27;s bitcoin-style base58 addresses to and from their 20-byte representation in hex.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="examples-of-src20-contract-execution">Examples of SRC20 contract execution<a class="hash-link" href="#examples-of-src20-contract-execution" title="Direct link to heading">​</a></h2><p>Below follows several examples executing the various functions of a SRC20 contract. These examples are run against a sbitd node running in regtest mode. You can run these examples against a testnet or mainnet node by changing the -regtest argument to -testnet or -mainnet. These examples depend on jq, python3, sbitd, and sbit-cli being installed on the target system.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="setting-up-a-regtest-sbitd-node-and-deploying-a-test-src20-contract">Setting up a regtest sbitd node and deploying a test SRC20 contract.<a class="hash-link" href="#setting-up-a-regtest-sbitd-node-and-deploying-a-test-src20-contract" title="Direct link to heading">​</a></h3><p>To run these examples, we set up a regtest sbitd node, generate some blocks and deploy a SRC20 contract below.</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">SRC20_SENDER_PRIVKEY=&quot;cVNrcCHX5q318dDkpMFoLD1ack7TybxEjFB44xCsv5sW35kM7QuE&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">SRC20_SENDER=&quot;sauZFnmbNBNuY2ujQateDwzvL6zoxBiY3H&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">SRC20_EXAMPLE_CONTRACT_BIN=&quot;6080604052600860ff16600a620000179190620000e0565b633b9aca006200002891906200021d565b6000553480156200003857600080fd5b50600054600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550620002c4565b6000808291508390505b6001851115620000d757808604811115620000af57620000ae62000288565b5b6001851615620000bf5780820291505b8081029050620000cf85620002b7565b94506200008f565b94509492505050565b6000620000ed826200027e565b9150620000fa836200027e565b9250620001297fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff848462000131565b905092915050565b60008262000143576001905062000216565b8162000153576000905062000216565b81600181146200016c57600281146200017757620001ad565b600191505062000216565b60ff8411156200018c576200018b62000288565b5b8360020a915084821115620001a657620001a562000288565b5b5062000216565b5060208310610133831016604e8410600b8410161715620001e75782820a905083811115620001e157620001e062000288565b5b62000216565b620001f6848484600162000085565b9250905081840481111562000210576200020f62000288565b5b81810290505b9392505050565b60006200022a826200027e565b915062000237836200027e565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161562000273576200027262000288565b5b828202905092915050565b6000819050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60008160011c9050919050565b610f5380620002d46000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c80635a3b7e42116100665780635a3b7e421461015d57806370a082311461017b57806395d89b41146101ab578063a9059cbb146101c9578063dd62ed3e146101f95761009e565b806306fdde03146100a3578063095ea7b3146100c157806318160ddd146100f157806323b872dd1461010f578063313ce5671461013f575b600080fd5b6100ab610229565b6040516100b89190610ce0565b60405180910390f35b6100db60048036038101906100d69190610c00565b610262565b6040516100e89190610cc5565b60405180910390f35b6100f961045a565b6040516101069190610d22565b60405180910390f35b61012960048036038101906101249190610bb1565b610460565b6040516101369190610cc5565b60405180910390f35b6101476107d4565b6040516101549190610d3d565b60405180910390f35b6101656107d9565b6040516101729190610ce0565b60405180910390f35b61019560048036038101906101909190610b4c565b610812565b6040516101a29190610d22565b60405180910390f35b6101b361082a565b6040516101c09190610ce0565b60405180910390f35b6101e360048036038101906101de9190610c00565b610863565b6040516101f09190610cc5565b60405180910390f35b610213600480360381019061020e9190610b75565b610a5e565b6040516102209190610d22565b60405180910390f35b6040518060400160405280600881526020017f515243205445535400000000000000000000000000000000000000000000000081525081565b600082600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156102d5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102cc90610d02565b60405180910390fd5b600083148061036057506000600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054145b61036957600080fd5b82600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508373ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925856040516104479190610d22565b60405180910390a3600191505092915050565b60005481565b600083600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156104d3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104ca90610d02565b60405180910390fd5b83600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415610544576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161053b90610d02565b60405180910390fd5b6105ca600260008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205485610a83565b600260008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610693600160008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205485610a83565b600160008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061071f600160008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205485610ad0565b600160008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef866040516107bf9190610d22565b60405180910390a36001925050509392505050565b600881565b6040518060400160405280600981526020017f546f6b656e20302e31000000000000000000000000000000000000000000000081525081565b60016020528060005260406000206000915090505481565b6040518060400160405280600381526020017f515443000000000000000000000000000000000000000000000000000000000081525081565b600082600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156108d6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108cd90610d02565b60405180910390fd5b61091f600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205484610a83565b600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506109ab600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205484610ad0565b600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508373ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef85604051610a4b9190610d22565b60405180910390a3600191505092915050565b6002602052816000526040600020602052806000526040600020600091509150505481565b600081831015610abc577f4e487b7100000000000000000000000000000000000000000000000000000000600052600160045260246000fd5b8183610ac89190610dca565b905092915050565b6000808284610adf9190610d74565b905083811015610b18577f4e487b7100000000000000000000000000000000000000000000000000000000600052600160045260246000fd5b8091505092915050565b600081359050610b3181610eef565b92915050565b600081359050610b4681610f06565b92915050565b600060208284031215610b5e57600080fd5b6000610b6c84828501610b22565b91505092915050565b60008060408385031215610b8857600080fd5b6000610b9685828601610b22565b9250506020610ba785828601610b22565b9150509250929050565b600080600060608486031215610bc657600080fd5b6000610bd486828701610b22565b9350506020610be586828701610b22565b9250506040610bf686828701610b37565b9150509250925092565b60008060408385031215610c1357600080fd5b6000610c2185828601610b22565b9250506020610c3285828601610b37565b9150509250929050565b610c4581610e10565b82525050565b6000610c5682610d58565b610c608185610d63565b9350610c70818560208601610e53565b610c7981610eb5565b840191505092915050565b6000610c91600f83610d63565b9150610c9c82610ec6565b602082019050919050565b610cb081610e3c565b82525050565b610cbf81610e46565b82525050565b6000602082019050610cda6000830184610c3c565b92915050565b60006020820190508181036000830152610cfa8184610c4b565b905092915050565b60006020820190508181036000830152610d1b81610c84565b9050919050565b6000602082019050610d376000830184610ca7565b92915050565b6000602082019050610d526000830184610cb6565b92915050565b600081519050919050565b600082825260208201905092915050565b6000610d7f82610e3c565b9150610d8a83610e3c565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115610dbf57610dbe610e86565b5b828201905092915050565b6000610dd582610e3c565b9150610de083610e3c565b925082821015610df357610df2610e86565b5b828203905092915050565b6000610e0982610e1c565b9050919050565b60008115159050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600060ff82169050919050565b60005b83811015610e71578082015181840152602081019050610e56565b83811115610e80576000848401525b50505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000601f19601f8301169050919050565b7f41646472657373206973204e554c4c0000000000000000000000000000000000600082015250565b610ef881610dfe565b8114610f0357600080fd5b50565b610f0f81610e3c565b8114610f1a57600080fd5b5056fea264697066735822122015838477bf1095385aa7e44f2baf5c344b6d05f0f9a68899faa0749392c719ab64736f6c63430008020033&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">sbitd -regtest -logevents -daemon -txindex</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">sleep 1</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">sbit-cli -regtest importprivkey $SRC20_SENDER_PRIVKEY</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">sbit-cli -regtest generatetoaddress 2500 $SRC20_SENDER</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">SRC20_CONTRACT=$(sbit-cli -regtest createcontract $SRC20_EXAMPLE_CONTRACT_BIN | jq -r &quot;.address&quot;)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">sbit-cli -regtest generatetoaddress 1 $SRC20_SENDER</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">echo &quot;Deployed the example SRC20 contract at $SRC20_CONTRACT&quot;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="checking-balances-by-calling-balanceofaddress">Checking balances by calling &quot;balanceOf(address)&quot;<a class="hash-link" href="#checking-balances-by-calling-balanceofaddress" title="Direct link to heading">​</a></h3><p>To check the current token balance of an address for a SRC20 contract we need to execute the <code>balanceOf</code> method of the SRC20 contract. This execution should be performed as a read-only operation, which means we should use the <code>callcontract</code> RPC. An example is displayed below of how to check the balance of a particular address. The output is in hex, padded to 32 bytes, and should be divided by the number of <strong>decimals</strong> used in the contract.</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">ADDRESS=&quot;sauZFnmbNBNuY2ujQateDwzvL6zoxBiY3H&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">ADDRESS_HEX=$(sbit-cli -regtest gethexaddress $ADDRESS)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">CALLDATA=&quot;70a08231000000000000000000000000$ADDRESS_HEX&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">sbit-cli -regtest callcontract $SRC20_CONTRACT $CALLDATA | jq -r &quot;.executionResult.output&quot; | python3 -c &quot;print(int(input(), 16))&quot;)</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="checking-the-constants-of-a-src20-contract-decimals-name-standard-totalsupply-symbol">Checking the constants of a SRC20 contract (decimals, name, standard, totalSupply, symbol)<a class="hash-link" href="#checking-the-constants-of-a-src20-contract-decimals-name-standard-totalsupply-symbol" title="Direct link to heading">​</a></h3><p>To fetch the constants for a SRC20 contract, we need to execute the various methods of the SRC20 contract. These executions should be performed as read-only operations, which means we should use the <code>callcontract</code> RPC. An example is displayed below of how to check the various constants of a SRC20 contract.</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">SRC20_DECIMALS=$(sbit-cli -regtest callcontract $SRC20_CONTRACT 313ce567 | jq -r &quot;.executionResult.output&quot; | python3 -c &quot;print(int(input(), 16))&quot;)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">SRC20_NAME=$(sbit-cli -regtest callcontract $SRC20_CONTRACT 06fdde03 | jq -r &quot;.executionResult.output&quot; | xxd -r -p)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">SRC20_SYMBOL=$(sbit-cli -regtest callcontract $SRC20_CONTRACT 95d89b41 | jq -r &quot;.executionResult.output&quot; | xxd -r -p)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">SRC20_TOTALSUPPLY=$(sbit-cli -regtest callcontract $SRC20_CONTRACT 18160ddd | jq -r &quot;.executionResult.output&quot; | python3 -c &quot;print(int(input(), 16))&quot;)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">echo &quot;decimals $SRC20_DECIMALS&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">echo &quot;name $SRC20_NAME&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">echo &quot;symbol $SRC20_SYMBOL&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">echo &quot;totalSupply $SRC20_TOTALSUPPLY&quot;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="watching-for-new-transfer-events-using-sbitd">Watching for new Transfer events using sbitd<a class="hash-link" href="#watching-for-new-transfer-events-using-sbitd" title="Direct link to heading">​</a></h3><p>The example below will watch for new Transfer events emitted by a SRC20 contract indefinitely. The example does this by continuously calling the <code>waitforlogs</code> RPC. The <code>waitforlogs</code> RPC will block until new events matching the call&#x27;s arguments are seen. When it has seen events emitted by the contract it returns a list of entries that we can iterate through to fetch the details of one or more events that were emitted. In the example below we watch for all transfer events emitted by a contract. Note: the sbitd node this runs against must be started with the <code>-logevents</code> argument.</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain"># This would be run against a live node listening for new contract events forever</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"># Note that sbitd should be started with `-logevents` to enable event logging</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">MIN_CONFIRMATIONS=20</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">LAST_BLOCK=$(sbit-cli -regtest getblockcount)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">TOPIC=&quot;ddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">while true</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">do</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    RESULTS=$(sbit-cli -regtest waitforlogs $LAST_BLOCK null &quot;{\&quot;addresses\&quot;: [\&quot;$SRC20_CONTRACT\&quot;], \&quot;topics\&quot;: [\&quot;$TOPIC\&quot;]}&quot; $MIN_CONFIRMATIONS)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    # Extract the events from the $RESULTS from .entries[topics]</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    for ENTRY in $(echo $RESULTS | jq -c &quot;.entries[]&quot;)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    do</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        TXID=$(echo $ENTRY | jq -r &quot;.transactionHash&quot;)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        SENDER_HEX=$(echo $ENTRY | jq -r &quot;.topics[1]&quot;)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        RECEIVER_HEX=$(echo $ENTRY | jq -r &quot;.topics[2]&quot;)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        AMOUNT_HEX=$(echo $ENTRY | jq -r &quot;.data&quot;)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        SENDER_ADDRESS=$(sbit-cli -regtest fromhexaddress ${SENDER_HEX:24:40})</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        RECEIVER_ADDRESS=$(sbit-cli -regtest fromhexaddress ${RECEIVER_HEX:24:40})</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        AMOUNT_TRANSFERRED=$(python3 -c &quot;print(0x$AMOUNT_HEX)&quot;)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        echo &quot;TXID: $TXID&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        echo &quot;SENDER: $SENDER_ADDRESS&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        echo &quot;RECEIVER: $RECEIVER_ADDRESS&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        echo &quot;AMOUNT: $AMOUNT_TRANSFERRED&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        echo &quot;&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    done</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    LAST_BLOCK=$(echo $RESULTS | jq -r &quot;.nextblock&quot;)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">done</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="example-of-src20-transfer-using-an-online-sbitd-node-for-signing">Example of SRC20 transfer using an online sbitd node for signing<a class="hash-link" href="#example-of-src20-transfer-using-an-online-sbitd-node-for-signing" title="Direct link to heading">​</a></h3><p>The easiest way to do a transfer between different addresses for a SRC20 contract is to simply use the <code>sendtocontract</code> RPC. </p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">SRC20_SENDER=&quot;sauZFnmbNBNuY2ujQateDwzvL6zoxBiY3H&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">SRC20_RECEIVER=&quot;sL1ah15xwmxLL75TBxfwiXpoovn6dKV72h&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">SRC20_TOKEN_TRANSFER_VALUE=1.1</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">SRC20_DECIMALS=8</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"># Adjust the tokens to transfer by the decimals and store the result in hex padded to 32 bytes</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">SRC20_TOKEN_TRANSFER_VALUE_PADDED_HEX=$(python3 -c &quot;print(hex(int(${SRC20_TOKEN_TRANSFER_VALUE} * 10**0x${SRC20_DECIMALS}))[2:].zfill(64))&quot;)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"># Convert the base58 receiver address into its 20-byte hex-encoded equivalents</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">SRC20_RECEIVER_HEX=$(sbit-cli -regtest gethexaddress $SRC20_RECEIVER)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"># Pad the receiver hex to 32 bytes</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">SRC20_RECEIVER_PADDED_HEX=&quot;000000000000000000000000${SRC20_RECEIVER_HEX}&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"># The function hash of &quot;transfer(address,uint256)&quot; concatenated with the receiver address and number of tokens to transfer</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">CALLDATA=&quot;a9059cbb${SRC20_RECEIVER_PADDED_HEX}${SRC20_TOKEN_TRANSFER_VALUE_PADDED_HEX}&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"># Create, sign and broadcast the transfer</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">sbit-cli -regtest sendtocontract $SRC20_CONTRACT $CALLDATA 0 100000 0.0000004 $SRC20_SENDER</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="in-depth-on-sbit-transactions">In depth on Sbit transactions<a class="hash-link" href="#in-depth-on-sbit-transactions" title="Direct link to heading">​</a></h3><p>Sbit uses Bitcoin-style transactions. The transaction format is basically identical to Bitcoin transactions with a few modifications to the Sbit scripting engine. Sbit introduces 4 new opcodes in the scripting engine to allow for interaction with the Sbit EVM. The only relevant opcode for this document is OP_CALL (0xc2). </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="op_call">OP_CALL<a class="hash-link" href="#op_call" title="Direct link to heading">​</a></h3><p>The OP_CALL opcode allows transaction output scriptPubKeys to be used to execute smart contracts in the Sbit EVM. The format for an OP_CALL scripts is the following:</p><p>version gaslimit gasprice calldata contractaddress OP_CALL</p><table><thead><tr><th>field name</th><th>size in bytes</th><th>typical value</th><th>description</th></tr></thead><tbody><tr><td>version</td><td>1</td><td>0x04</td><td>The version of the script, will always be 0x04 for purposes of this document.</td></tr><tr><td>gaslimit</td><td>variable</td><td>200000</td><td>The gas limit of the EVM execution, should be the same as the same limit in Ethereum for the purposes of this document.</td></tr><tr><td>gasprice</td><td>variable</td><td>40</td><td>The price per unit of gas, should typically be set to 40 as that is the current minimum limit for the gas price. Identical to the same concept in Ethereum.</td></tr><tr><td>calldata</td><td>variable</td><td>-</td><td>The ABI encoded calldata, the same as in Ethereum, i.e., typically a 4-byte function signature followed by the ABI encoded function arguments. Identical to the same concept in Ethereum.</td></tr><tr><td>contractaddress</td><td>20</td><td>-</td><td>The address of the contract you wish to execute.</td></tr><tr><td>OP_CALL</td><td>opcode</td><td>0xc2</td><td>The OP_CALL opcode.</td></tr></tbody></table><p>The script must follow the same rules for encoding as a typical bitcoin script, e.g., each value that is not an opcode will be prefixed with a push length unless it is a &quot;smallint&quot; (typically any bitcoin library used for creating a transaction will handle these details). Below is a transaction that contains an output that uses an OP_CALL scriptPubKey to execute a contract in Sbit.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="transaction-signing">Transaction Signing<a class="hash-link" href="#transaction-signing" title="Direct link to heading">​</a></h3><p>The process of signing a raw transaction in Sbit is identical to signing a Bitcoin transaction. Typically, a raw transaction is signed using the <code>signrawtransactionwithkey</code> or <code>signrawtransactionwithwallet</code> in sbitd. Also, any Bitcoin library should be possible to be used to sign raw Sbit transactions.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="example-of-a-raw-src20-transfer-using-a-sbitjs-library">Example of a raw SRC20 transfer using a SbitJS library<a class="hash-link" href="#example-of-a-raw-src20-transfer-using-a-sbitjs-library" title="Direct link to heading">​</a></h2><p>Described below is the process of creating and signing a raw SRC20 transfer transaction using the Sbit-js library.</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> bitcoin </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;sbitjs-lib&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> testnet </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> bitcoin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">networks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">testnet</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">/*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">    Example of transaction that creates and signs a SRC20 transfer transaction for Sbit using the Sbit-js library.</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">    The transaction format is nearly identical to that of Bitcoin, except for the OP_CALL output.</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">    Note, since OP_CALL is a Sbit specific opcode, it needs to be hardcoded as 0xc2</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">    The script below will assume that the input tx being spent is a P2PKH output.</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// The input tx hash and vout of the utxo we are going to spend</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">TXINHASH</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;e06d87ecfc8563e899118de9b9fc9deafc9aba41f2c420075bbf2c610fe160fc&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">TXINVOUT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// The WIF key of the input key. Sbit uses the same WIF format and prefx as Bitcoin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">TXINKEY</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> bitcoin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access maybe-class-name">ECPair</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">fromWIF</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;cVNrcCHX5q318dDkpMFoLD1ack7TybxEjFB44xCsv5sW35kM7QuE&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> testnet</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// The value of the utxo, Sbit uses the same number of decimals as Bitcoin (8 decimals)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">TXINVALUE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">2000000000000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// The contract address we wish to call</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">SRC20_CONTRACT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;a20ee8612b8d338c55dcd03e65544339efd7cebc&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// The receiver address. Note that the SENDER is the address of the UTXO we are spending.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">SRC20_RECEIVER</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;sauZFnmbNBNuY2ujQateDwzvL6zoxBiY3H&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// The number of tokens we want to transfer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">SRC20_TOKEN_TRANSFER_VALUE</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token number" style="color:rgb(181, 206, 168)">1n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// The number of decimals defined by the SRC20 contract.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">SRC20_DECIMALS</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token number" style="color:rgb(181, 206, 168)">8n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// The minimum gas price is 0.00000040 Sbit, so we set the gas price to that here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">GASPRICE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">40</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// The gas schedule of Sbit is virtually identical to that of Ethereum, so a value that works for Ethereum will typically work for Sbit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">GASLIMIT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">100000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// The OP_CALL (0xc2) opcode is Sbit specific and must therefore be hardcoded.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">OP_CALL</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0xc2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> src20_receiver_hex</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">bitcoin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">address</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">fromBase58Check</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token constant" style="color:rgb(100, 102, 149)">SRC20_RECEIVER</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;hash&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">toString</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;hex&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> src20_token_transfer_value_adjusted</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token constant" style="color:rgb(100, 102, 149)">SRC20_TOKEN_TRANSFER_VALUE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">10n</span><span class="token operator" style="color:rgb(212, 212, 212)">**</span><span class="token constant" style="color:rgb(100, 102, 149)">SRC20_DECIMALS</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> src20_token_transfer_value_adjusted_hex</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;0&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">repeat</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">64</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> src20_token_transfer_value_adjusted</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">toString</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">16</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">slice</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:rgb(181, 206, 168)">64</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// The calldata, should be ABI encoded according the Ethereum ABI specification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> calldata </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;a9059cbb000000000000000000000000&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain">src20_receiver_hex</span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain">src20_token_transfer_value_adjusted_hex</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// The input value minus the gas cost/txfee</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> changeValue </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">TXINVALUE</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token constant" style="color:rgb(100, 102, 149)">GASPRICE</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token constant" style="color:rgb(100, 102, 149)">GASLIMIT</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// The opcall scriptPubKey on the form of &quot;version gaslimit gasprice calldata contractaddress OP_CALL&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> contractCallScript </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> bitcoin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">script</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">compile</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    bitcoin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">script</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">encode</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">4</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// version</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    bitcoin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">script</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">encode</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token constant" style="color:rgb(100, 102, 149)">GASLIMIT</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// gas limit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    bitcoin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">script</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">encode</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token constant" style="color:rgb(100, 102, 149)">GASPRICE</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// gas price</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Buffer</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">calldata</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;hex&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// The ABI encoded calldata</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Buffer</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token constant" style="color:rgb(100, 102, 149)">SRC20_CONTRACT</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;hex&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// the contract&#x27;s address</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token constant" style="color:rgb(100, 102, 149)">OP_CALL</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// OP_CALL opcode</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// A normal P2PKH change output</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> changeScript </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> bitcoin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">script</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">compile</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    bitcoin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">opcodes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:rgb(100, 102, 149)">OP_DUP</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    bitcoin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">opcodes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:rgb(100, 102, 149)">OP_HASH160</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Buffer</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">bitcoin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">crypto</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">hash160</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token constant" style="color:rgb(100, 102, 149)">TXINKEY</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">publicKey</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    bitcoin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">opcodes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:rgb(100, 102, 149)">OP_EQUALVERIFY</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    bitcoin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">opcodes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:rgb(100, 102, 149)">OP_CHECKSIG</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> txb </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">bitcoin</span><span class="token class-name punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token class-name" style="color:rgb(78, 201, 176)">TransactionBuilder</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">testnet</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">txb</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">addInput</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token constant" style="color:rgb(100, 102, 149)">TXINHASH</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">TXINVOUT</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">txb</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">addOutput</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">contractCallScript</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">txb</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">addOutput</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">changeScript</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> changeValue</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">txb</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">sign</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">TXINKEY</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> tx </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> txb</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">build</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token console class-name" style="color:rgb(78, 201, 176)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">log</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">tx</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">toHex</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="notes">Notes<a class="hash-link" href="#notes" title="Direct link to heading">​</a></h2><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The first input to the transaction must be the sender (unless you use OP_SENDER style scripts, which is not covered in this document)</p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Any Bitcoin library should be possible to use for signing, as long as it is possible to manually encode the OP_CALL opcode in the script.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="appendix">Appendix<a class="hash-link" href="#appendix" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="src20-function-signatures">SRC20 Function signatures<a class="hash-link" href="#src20-function-signatures" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">dd62ed3e: allowance(address,address)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">095ea7b3: approve(address,uint256)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">70a08231: balanceOf(address)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">313ce567: decimals()</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">06fdde03: name()</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">95d89b41: symbol()</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">18160ddd: totalSupply()</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">a9059cbb: transfer(address,uint256)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">23b872dd: transferFrom(address,address,uint256)</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1></h1></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/sbit.dev/docs/Smart-Contract/SRC20-integration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SRC20 Integration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/sbit.dev/docs/Tools/SBitcore-lib"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Sbitcore-Lib</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a><ul><li><a href="#sbits-src20-standard" class="table-of-contents__link toc-highlight">Sbit&#39;s SRC20 standard</a></li><li><a href="#calldata-for-src20-calls" class="table-of-contents__link toc-highlight">Calldata for SRC20 calls</a></li><li><a href="#example-of-transfer-calldata" class="table-of-contents__link toc-highlight">Example of transfer calldata</a></li></ul></li><li><a href="#sbitd-rpc" class="table-of-contents__link toc-highlight">Sbitd RPC</a></li><li><a href="#examples-of-src20-contract-execution" class="table-of-contents__link toc-highlight">Examples of SRC20 contract execution</a><ul><li><a href="#setting-up-a-regtest-sbitd-node-and-deploying-a-test-src20-contract" class="table-of-contents__link toc-highlight">Setting up a regtest sbitd node and deploying a test SRC20 contract.</a></li><li><a href="#checking-balances-by-calling-balanceofaddress" class="table-of-contents__link toc-highlight">Checking balances by calling &quot;balanceOf(address)&quot;</a></li><li><a href="#checking-the-constants-of-a-src20-contract-decimals-name-standard-totalsupply-symbol" class="table-of-contents__link toc-highlight">Checking the constants of a SRC20 contract (decimals, name, standard, totalSupply, symbol)</a></li><li><a href="#watching-for-new-transfer-events-using-sbitd" class="table-of-contents__link toc-highlight">Watching for new Transfer events using sbitd</a></li><li><a href="#example-of-src20-transfer-using-an-online-sbitd-node-for-signing" class="table-of-contents__link toc-highlight">Example of SRC20 transfer using an online sbitd node for signing</a></li><li><a href="#in-depth-on-sbit-transactions" class="table-of-contents__link toc-highlight">In depth on Sbit transactions</a></li><li><a href="#op_call" class="table-of-contents__link toc-highlight">OP_CALL</a></li><li><a href="#transaction-signing" class="table-of-contents__link toc-highlight">Transaction Signing</a></li></ul></li><li><a href="#example-of-a-raw-src20-transfer-using-a-sbitjs-library" class="table-of-contents__link toc-highlight">Example of a raw SRC20 transfer using a SbitJS library</a></li><li><a href="#notes" class="table-of-contents__link toc-highlight">Notes</a></li><li><a href="#appendix" class="table-of-contents__link toc-highlight">Appendix</a><ul><li><a href="#src20-function-signatures" class="table-of-contents__link toc-highlight">SRC20 Function signatures</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Get in touch</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto: dev@sbit.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/sbit.dev/docs/welcome">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.instagram.com/sbitproject/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/sbit.dev/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/SBit-Project/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 - Sbit Project</div></div></div></footer></div>
<script src="/sbit.dev/assets/js/runtime~main.67ef7f75.js"></script>
<script src="/sbit.dev/assets/js/main.cb492e30.js"></script>
</body>
</html>